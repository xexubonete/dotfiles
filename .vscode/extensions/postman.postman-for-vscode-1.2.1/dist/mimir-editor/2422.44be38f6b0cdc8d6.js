(self.webpackChunkmimir_editor=self.webpackChunkmimir_editor||[]).push([[2422],{93636:e=>{"use strict";e.exports=function(e){return e=String(e||""),n.test(e)?"rtl":a.test(e)?"ltr":"neutral"};var t="֑-߿יִ-﷽ﹰ-ﻼ",r="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",n=new RegExp("^[^"+r+"]*["+t+"]"),a=new RegExp("^[^"+t+"]*["+r+"]")},87202:(e,t)=>{"use strict";for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=1;i<20;i++)o["f"+i]=111+i;function s(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var a=e.map((function(e){return function(e,t){var r=t&&t.byKey,a={},o=(e=e.replace("++","+add")).split("+"),i=o.length;for(var s in n)a[n[s]]=!1;var c=!0,u=!1,f=void 0;try{for(var v,h=o[Symbol.iterator]();!(c=(v=h.next()).done);c=!0){var p=v.value,g=p.endsWith("?")&&p.length>1;g&&(p=p.slice(0,-1));var m=d(p),w=n[m];1!==i&&w||(r?a.key=m:a.which=l(p)),w&&(a[w]=!g||null)}}catch(e){u=!0,f=e}finally{try{!c&&h.return&&h.return()}finally{if(u)throw f}}return a}(e,t)})),o=function(e){return a.some((function(t){return function(e,t){for(var r in e){var n=e[r],a=void 0;if(null!=n&&(null!=(a="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&a!==n)return!1}return!0}(t,e)}))};return null==r?o:o(r)}function l(e){return e=d(e),o[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),a[e]||e}t.TB=function(e,t){return s(e,{byKey:!0},t)}},50857:(e,t,r)=>{var n=r(37772).Symbol;e.exports=n},53366:(e,t,r)=>{var n=r(50857),a=r(62107),o=r(37157),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},51704:(e,t,r)=>{var n=r(52153),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},51242:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},62107:(e,t,r)=>{var n=r(50857),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var a=i.call(e);return n&&(t?e[s]=r:delete e[s]),a}},37157:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},37772:(e,t,r)=>{var n=r(51242),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},52153:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},54073:(e,t,r)=>{var n=r(29259),a=r(61100),o=r(7642),i=Math.max,s=Math.min;e.exports=function(e,t,r){var l,d,c,u,f,v,h=0,p=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function w(t){var r=l,n=d;return l=d=void 0,h=t,u=e.apply(n,r)}function E(e){var r=e-v;return void 0===v||r>=t||r<0||g&&e-h>=c}function b(){var e=a();if(E(e))return C(e);f=setTimeout(b,function(e){var r=t-(e-v);return g?s(r,c-(e-h)):r}(e))}function C(e){return f=void 0,m&&l?w(e):(l=d=void 0,u)}function y(){var e=a(),r=E(e);if(l=arguments,d=this,v=e,r){if(void 0===f)return function(e){return h=e,f=setTimeout(b,t),p?w(e):u}(v);if(g)return clearTimeout(f),f=setTimeout(b,t),w(v)}return void 0===f&&(f=setTimeout(b,t)),u}return t=o(t)||0,n(r)&&(p=!!r.leading,c=(g="maxWait"in r)?i(o(r.maxWait)||0,t):c,m="trailing"in r?!!r.trailing:m),y.cancel=function(){void 0!==f&&clearTimeout(f),h=0,l=v=d=f=void 0},y.flush=function(){return void 0===f?u:C(a())},y}},29259:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4795:(e,t,r)=>{var n=r(53366),a=r(15125);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},61100:(e,t,r)=>{var n=r(37772);e.exports=function(){return n.Date.now()}},12436:(e,t,r)=>{var n=r(54073),a=r(29259);e.exports=function(e,t,r){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:o,maxWait:t,trailing:i})}},7642:(e,t,r)=>{var n=r(51704),a=r(29259),o=r(4795),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?d(e.slice(2),r?2:8):i.test(e)?NaN:+e}},42422:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AndroidEditable:()=>ft,DefaultEditable:()=>qe,DefaultElement:()=>fe,DefaultLeaf:()=>re,DefaultPlaceholder:()=>ze,Editable:()=>kt,ReactEditor:()=>rt,Slate:()=>Et,useEditor:()=>bt,useFocused:()=>ht,useReadOnly:()=>De,useSelected:()=>me,useSlate:()=>Se,useSlateSelector:()=>mt,useSlateStatic:()=>he,withReact:()=>xt});var n=r(40540),a=r.n(n),o=r(21519),i=r(93636),s=r.n(i),l=r(54073),d=r.n(l),c=r(12436),u=r.n(c),f=r(64358);function v(e){return e===Object(e)&&0!==Object.keys(e).length}const h=function(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(v(t)&&"function"==typeof t.behavior)return t.behavior(r?(0,f.Z)(e,t):[]);if(r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:v(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,a=e.top,o=e.left;n.scroll&&r?n.scroll({top:a,left:o,behavior:t}):(n.scrollTop=a,n.scrollLeft=o)}))}((0,f.Z)(e,n),n.behavior)}};var p=r(87202),g=r(21730),m=r.n(g);function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var b="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,C="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),y="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),x="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),k="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),D="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(\.)/i.test(navigator.userAgent),O="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),S="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(\.)/i.test(navigator.userAgent),R="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),T="undefined"!=typeof navigator&&/.*QQBrowser/.test(navigator.userAgent),M="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),N="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent),F=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),B=!S&&!D&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,P=F?n.useLayoutEffect:n.useEffect,L=e=>{var{isLast:t,leaf:r,parent:n,text:i}=e,s=he(),l=rt.findPath(s,i),d=o.Path.parent(l);return s.isVoid(n)?a().createElement(A,{length:o.Node.string(n).length}):""!==r.text||n.children[n.children.length-1]!==i||s.isInline(n)||""!==o.Editor.string(s,d)?""===r.text?a().createElement(A,null):t&&"\n"===r.text.slice(-1)?a().createElement(W,{isTrailing:!0,text:r.text}):a().createElement(W,{text:r.text}):a().createElement(A,{isLineBreak:!0})},W=e=>{var{text:t,isTrailing:r=!1}=e,o=(0,n.useRef)(null),i=()=>"".concat(null!=t?t:"").concat(r?"\n":"");return P((()=>{var e=i();o.current&&o.current.textContent!==e&&(o.current.textContent=e)})),o.current?a().createElement("span",{"data-slate-string":!0,ref:o}):a().createElement("span",{"data-slate-string":!0,ref:o},i())},A=e=>{var{length:t=0,isLineBreak:r=!1}=e;return a().createElement("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},"\ufeff",r?a().createElement("br",null):null)},j=new WeakMap,I=new WeakMap,U=new WeakMap,V=new WeakMap,q=new WeakMap,z=new WeakMap,H=new WeakMap,K=new WeakMap,_=new WeakMap,J=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,$=new WeakMap,Q=new WeakMap,G=Symbol("placeholder"),ee=e=>{var{leaf:t,isLast:r,text:o,parent:i,renderPlaceholder:s,renderLeaf:l=(e=>a().createElement(re,Object.assign({},e)))}=e,d=(0,n.useRef)(null);(0,n.useEffect)((()=>{var e=null==d?void 0:d.current,t=document.querySelector('[data-slate-editor="true"]');if(e&&t)return t.style.minHeight="".concat(e.clientHeight,"px"),()=>{t.style.minHeight="auto"}}),[d,t]);var c=a().createElement(L,{isLast:r,leaf:t,parent:i,text:o});if(t[G]){var u={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:d}};c=a().createElement(a().Fragment,null,s(u),c)}return l({attributes:{"data-slate-leaf":!0},children:c,leaf:t,text:o})},te=a().memo(ee,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&o.Text.equals(t.leaf,e.leaf)&&t.leaf[G]===e.leaf[G])),re=e=>{var{attributes:t,children:r}=e;return a().createElement("span",Object.assign({},t),r)},ne=["anchor","focus"],ae=["anchor","focus"],oe=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((r=>t.hasOwnProperty(r)&&e[r]===t[r])),ie=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],a=t[r],i=E(n,ne),s=E(a,ae);if(!o.Range.equals(n,a)||n[G]!==a[G]||!oe(i,s))return!1}return!0};function se(e){var t=(0,n.useRef)(0),r=(0,n.useRef)(null),[,a]=(0,n.useState)(0);return(0,n.useEffect)((()=>(Q.set(e,(()=>{r.current||(r.current=requestAnimationFrame((()=>{a((e=>e+1)),r.current=null})),t.current++)})),()=>{Q.delete(e)})),[e]),r.current&&(cancelAnimationFrame(r.current),r.current=null),t.current}var le=e=>{for(var{decorations:t,isLast:r,parent:i,renderPlaceholder:s,renderLeaf:l,text:d}=e,c=he(),u=(0,n.useRef)(null),f=o.Text.decorations(d,t),v=rt.findKey(c,d),h=[],p=0;p<f.length;p++){var g=f[p];h.push(a().createElement(te,{isLast:r&&p===f.length-1,key:"".concat(v.id,"-").concat(p),renderPlaceholder:s,leaf:g,text:d,parent:i,renderLeaf:l}))}P((()=>{var e=K.get(c);u.current?(null==e||e.set(v,u.current),z.set(d,u.current),q.set(u.current,d)):(null==e||e.delete(v),z.delete(d))}));var m=y?se(d):void 0;return a().createElement("span",{"data-slate-node":"text",ref:u,key:m},h)},de=a().memo(le,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&ie(t.decorations,e.decorations))),ce=e=>{var{decorations:t,element:r,renderElement:i=(e=>a().createElement(fe,Object.assign({},e))),renderPlaceholder:l,renderLeaf:d,selection:c}=e,u=(0,n.useRef)(null),f=he(),v=De(),h=f.isInline(r),p=rt.findKey(f,r),g=we({decorations:t,node:r,renderElement:i,renderPlaceholder:l,renderLeaf:d,selection:c}),m={"data-slate-node":"element",ref:u};if(h&&(m["data-slate-inline"]=!0),!h&&o.Editor.hasInlines(f,r)){var w=o.Node.string(r),E=s()(w);"rtl"===E&&(m.dir=E)}if(o.Editor.isVoid(f,r)){m["data-slate-void"]=!0,!v&&h&&(m.contentEditable=!1);var b=h?"span":"div",[[C]]=o.Node.texts(r);g=a().createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},a().createElement(de,{renderPlaceholder:l,decorations:[],isLast:!1,parent:r,text:C})),j.set(C,0),I.set(C,r)}P((()=>{var e=K.get(f);u.current?(null==e||e.set(p,u.current),z.set(r,u.current),q.set(u.current,r)):(null==e||e.delete(p),z.delete(r))}));var x=i({attributes:m,children:g,element:r});if(y){var k=se(r);return a().createElement(n.Fragment,{key:k},x)}return x},ue=a().memo(ce,((e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&ie(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&o.Range.equals(e.selection,t.selection)))),fe=e=>{var{attributes:t,children:r,element:n}=e,o=he().isInline(n)?"span":"div";return a().createElement(o,Object.assign({},t,{style:{position:"relative"}}),r)},ve=(0,n.createContext)(null),he=()=>{var e=(0,n.useContext)(ve);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},pe=(0,n.createContext)((()=>[])),ge=(0,n.createContext)(!1),me=()=>(0,n.useContext)(ge),we=e=>{var{decorations:t,node:r,renderElement:i,renderPlaceholder:s,renderLeaf:l,selection:d}=e;(0,n.useContext)(pe);for(var c=he(),u=rt.findPath(c,r),f=[],v=o.Element.isElement(r)&&!c.isInline(r)&&o.Editor.hasInlines(c,r),h=function(e){var n=u.concat(e),h=r.children[e],p=rt.findKey(c,h),g=o.Editor.range(c,n),m=d&&o.Range.intersection(g,d),w=t.filter((e=>o.Range.intersection(e,g)));o.Element.isElement(h)?f.push(a().createElement(ge.Provider,{key:"provider-".concat(p.id),value:!!m},a().createElement(ue,{decorations:w,element:h,key:p.id,renderElement:i,renderPlaceholder:s,renderLeaf:l,selection:m}))):f.push(a().createElement(de,{decorations:w,key:p.id,isLast:v&&e===r.children.length-1,parent:r,renderPlaceholder:s,renderLeaf:l,text:h})),j.set(h,e),I.set(h,r)},p=0;p<r.children.length;p++)h(p);return f},Ee={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},be={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Ce={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ye=e=>{var t=Ee[e],r=be[e],n=Ce[e],a=t&&(0,p.TB)(t),o=r&&(0,p.TB)(r),i=n&&(0,p.TB)(n);return e=>!(!a||!a(e))||!!(C&&o&&o(e))||!(C||!i||!i(e))},xe={isBold:ye("bold"),isCompose:ye("compose"),isMoveBackward:ye("moveBackward"),isMoveForward:ye("moveForward"),isDeleteBackward:ye("deleteBackward"),isDeleteForward:ye("deleteForward"),isDeleteLineBackward:ye("deleteLineBackward"),isDeleteLineForward:ye("deleteLineForward"),isDeleteWordBackward:ye("deleteWordBackward"),isDeleteWordForward:ye("deleteWordForward"),isExtendBackward:ye("extendBackward"),isExtendForward:ye("extendForward"),isExtendLineBackward:ye("extendLineBackward"),isExtendLineForward:ye("extendLineForward"),isItalic:ye("italic"),isMoveLineBackward:ye("moveLineBackward"),isMoveLineForward:ye("moveLineForward"),isMoveWordBackward:ye("moveWordBackward"),isMoveWordForward:ye("moveWordForward"),isRedo:ye("redo"),isSplitBlock:ye("splitBlock"),isTransposeCharacter:ye("transposeCharacter"),isUndo:ye("undo")},ke=(0,n.createContext)(!1),De=()=>(0,n.useContext)(ke),Oe=(0,n.createContext)(null),Se=()=>{var e=(0,n.useContext)(Oe);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var[t]=e;return t},Re=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,Te=e=>Me(e)&&1===e.nodeType,Me=e=>{var t=Re(e);return!!t&&e instanceof t.Node},Ne=e=>{var t=e&&e.anchorNode&&Re(e.anchorNode);return!!t&&e instanceof t.Selection},Fe=e=>Me(e)&&3===e.nodeType,Be=(e,t,r)=>{for(var n,{childNodes:a}=e,o=a[t],i=t,s=!1,l=!1;(Me(n=o)&&8===n.nodeType||Te(o)&&0===o.childNodes.length||Te(o)&&"false"===o.getAttribute("contenteditable"))&&(!s||!l);)i>=a.length?(s=!0,i=t-1,r="backward"):i<0?(l=!0,i=t+1,r="forward"):(o=a[i],t=i,i+="forward"===r?1:-1);return[o,t]},Pe=(e,t,r)=>{var[n]=Be(e,t,r);return n},Le=e=>{var t="";if(Fe(e)&&e.nodeValue)return e.nodeValue;if(Te(e)){for(var r of Array.from(e.childNodes))t+=Le(r);var n=getComputedStyle(e).getPropertyValue("display");"block"!==n&&"list"!==n&&"BR"!==e.tagName||(t+="\n")}return t},We=/data-slate-fragment="(.+?)"/m,Ae=e=>{var t=e.getData("text/html"),[,r]=t.match(We)||[];return r},je=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ve=e=>a().createElement(a().Fragment,null,we(e)),qe=e=>{var{autoFocus:t,decorate:r=He,onDOMBeforeInput:i,placeholder:l,readOnly:c=!1,renderElement:f,renderLeaf:v,renderPlaceholder:h=(e=>a().createElement(ze,Object.assign({},e))),scrollSelectionIntoView:p=Ke,style:g={},as:m="div"}=e,w=E(e,je),C=Se(),[y,D]=(0,n.useState)(!1),S=(0,n.useRef)(null),L=(0,n.useRef)([]);_.set(C,c);var W=(0,n.useMemo)((()=>({isComposing:!1,hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null})),[]);P((()=>{var e;S.current&&(e=Re(S.current))?(U.set(C,e),V.set(C,S.current),z.set(C,S.current),q.set(S.current,C)):z.delete(C);var{selection:t}=C,r=rt.findDocumentOrShadowRoot(C).getSelection();if(!W.isComposing&&r&&rt.isFocused(C)){var n="None"!==r.type;if(t||n){var a=V.get(C),i=!1;if(a.contains(r.anchorNode)&&a.contains(r.focusNode)&&(i=!0),n&&i&&t){var s=rt.toSlateRange(C,r,{exactMatch:!0,suppressThrow:!0});if(s&&o.Range.equals(s,t))return}if(!t||rt.hasRange(C,t)){W.isUpdatingSelection=!0;var l=t&&rt.toDOMRange(C,t);l?(o.Range.isBackward(t)?r.setBaseAndExtent(l.endContainer,l.endOffset,l.startContainer,l.startOffset):r.setBaseAndExtent(l.startContainer,l.startOffset,l.endContainer,l.endOffset),p(C,l)):r.removeAllRanges(),setTimeout((()=>{l&&x&&rt.toDOMNode(C,C).focus(),W.isUpdatingSelection=!1}))}else C.selection=rt.toSlateRange(C,r,{exactMatch:!1,suppressThrow:!1})}}})),(0,n.useEffect)((()=>{S.current&&t&&S.current.focus()}),[t]);var A=(0,n.useCallback)(u()((()=>{if(!W.isComposing&&!W.isUpdatingSelection&&!W.isDraggingInternally){var e=rt.findDocumentOrShadowRoot(C),{activeElement:t}=e,r=rt.toDOMNode(C,C),n=e.getSelection();if(t===r?(W.latestElement=t,J.set(C,!0)):J.delete(C),!n)return o.Transforms.deselect(C);var{anchorNode:a,focusNode:i}=n,s=Je(C,a)||Xe(C,a),l=Je(C,i)||Xe(C,i);if(s&&l){var d=rt.toSlateRange(C,n,{exactMatch:!1,suppressThrow:!1});o.Transforms.select(C,d)}}}),100),[c]),j=(0,n.useMemo)((()=>d()(A,0)),[A]),I=(0,n.useCallback)((e=>{if(!c&&Je(C,e.target)&&!Ze(e,i)){j.flush(),A.flush();var{selection:t}=C,{inputType:r}=e,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;var a=!1;if("insertText"===r&&t&&o.Range.isCollapsed(t)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==t.anchor.offset){a=!0,C.marks&&(a=!1);var{anchor:s}=t,l=o.Editor.above(C,{at:s,match:e=>o.Editor.isInline(C,e),mode:"highest"});if(l){var[,d]=l;o.Editor.isEnd(C,t.anchor,d)&&(a=!1)}}if(a||e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){var[u]=e.getTargetRanges();if(u){var f=rt.toSlateRange(C,u,{exactMatch:!1,suppressThrow:!1});t&&o.Range.equals(t,f)||o.Transforms.select(C,f)}}if(t&&o.Range.isExpanded(t)&&r.startsWith("delete")){var v=r.endsWith("Backward")?"backward":"forward";return void o.Editor.deleteFragment(C,{direction:v})}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":o.Editor.deleteFragment(C);break;case"deleteContent":case"deleteContentForward":o.Editor.deleteForward(C);break;case"deleteContentBackward":o.Editor.deleteBackward(C);break;case"deleteEntireSoftLine":o.Editor.deleteBackward(C,{unit:"line"}),o.Editor.deleteForward(C,{unit:"line"});break;case"deleteHardLineBackward":o.Editor.deleteBackward(C,{unit:"block"});break;case"deleteSoftLineBackward":o.Editor.deleteBackward(C,{unit:"line"});break;case"deleteHardLineForward":o.Editor.deleteForward(C,{unit:"block"});break;case"deleteSoftLineForward":o.Editor.deleteForward(C,{unit:"line"});break;case"deleteWordBackward":o.Editor.deleteBackward(C,{unit:"word"});break;case"deleteWordForward":o.Editor.deleteForward(C,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":o.Editor.insertBreak(C);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":var{selection:h}=C;h&&o.Range.isExpanded(h)&&o.Editor.deleteFragment(C),"insertFromComposition"===r&&(W.isComposing&&D(!1),W.isComposing=!1),"DataTransfer"===(null==n?void 0:n.constructor.name)?rt.insertData(C,n):"string"==typeof n&&(a?L.current.push((()=>o.Editor.insertText(C,n))):o.Editor.insertText(C,n))}}}),[c,i]);P((()=>(S.current&&B&&S.current.addEventListener("beforeinput",I),()=>{S.current&&B&&S.current.removeEventListener("beforeinput",I)})),[I]),P((()=>{var e=rt.getWindow(C);return e.document.addEventListener("selectionchange",j),()=>{e.document.removeEventListener("selectionchange",j)}}),[j]);var H=[...o.Node.nodes(C)].flatMap((e=>{var[t,n]=e;return r([t,n])}));if(l&&1===C.children.length&&1===Array.from(o.Node.texts(C)).length&&""===o.Node.string(C)&&!y){var K=o.Editor.start(C,[]);H.push({[G]:!0,placeholder:l,anchor:K,focus:K})}return a().createElement(ke.Provider,{value:c},a().createElement(pe.Provider,{value:r},a().createElement(m,Object.assign({role:c?void 0:"textbox"},w,{spellCheck:!(!B&&F)&&w.spellCheck,autoCorrect:B||!F?w.autoCorrect:"false",autoCapitalize:B||!F?w.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!c,zindex:-1,suppressContentEditableWarning:!0,ref:S,style:Ue({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},g),onBeforeInput:(0,n.useCallback)((e=>{if(!B&&!c&&!Ye(e,w.onBeforeInput)&&Je(C,e.target)&&(e.preventDefault(),!W.isComposing)){var t=e.data;o.Editor.insertText(C,t)}}),[c]),onInput:(0,n.useCallback)((e=>{for(var t of L.current)t();L.current=[]}),[]),onBlur:(0,n.useCallback)((e=>{if(!c&&!W.isUpdatingSelection&&Je(C,e.target)&&!Ye(e,w.onBlur)){var t=rt.findDocumentOrShadowRoot(C);if(W.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(!(r===rt.toDOMNode(C,C)||Te(r)&&r.hasAttribute("data-slate-spacer"))){if(null!=r&&Me(r)&&rt.hasDOMNode(C,r)){var n=rt.toSlateNode(C,r);if(o.Element.isElement(n)&&!C.isVoid(n))return}if(k){var a=t.getSelection();null==a||a.removeAllRanges()}J.delete(C)}}}}),[c,w.onBlur]),onClick:(0,n.useCallback)((e=>{if(!c&&_e(C,e.target)&&!Ye(e,w.onClick)&&Me(e.target)){var t=rt.toSlateNode(C,e.target),r=rt.findPath(C,t);if(o.Editor.hasPath(C,r)&&o.Node.get(C,r)===t){var n=o.Editor.start(C,r),a=o.Editor.end(C,r),i=o.Editor.void(C,{at:n}),s=o.Editor.void(C,{at:a});if(i&&s&&o.Path.equals(i[1],s[1])){var l=o.Editor.range(C,n);o.Transforms.select(C,l)}}}}),[c,w.onClick]),onCompositionEnd:(0,n.useCallback)((e=>{if(Je(C,e.target)&&!Ye(e,w.onCompositionEnd)&&(W.isComposing&&D(!1),W.isComposing=!1,k||R||b||T||N||M||!e.data||o.Editor.insertText(C,e.data),C.selection&&o.Range.isCollapsed(C.selection))){var t=C.selection.anchor.path,r=o.Node.leaf(C,t);W.hasInsertPrefixInCompositon&&(W.hasInsertPrefixInCompositon=!1,o.Editor.withoutNormalizing(C,(()=>{var e=r.text.replace(/^\uFEFF/,"");o.Transforms.delete(C,{distance:r.text.length,reverse:!0}),o.Editor.insertText(C,e)})))}}),[w.onCompositionEnd]),onCompositionUpdate:(0,n.useCallback)((e=>{Je(C,e.target)&&!Ye(e,w.onCompositionUpdate)&&(!W.isComposing&&D(!0),W.isComposing=!0)}),[w.onCompositionUpdate]),onCompositionStart:(0,n.useCallback)((e=>{if(Je(C,e.target)&&!Ye(e,w.onCompositionStart)){var{selection:t,marks:r}=C;if(t){if(o.Range.isExpanded(t))return void o.Editor.deleteFragment(C);var n=o.Editor.above(C,{match:e=>o.Editor.isInline(C,e),mode:"highest"});if(n){var[,a]=n;if(o.Editor.isEnd(C,t.anchor,a)){var i=o.Editor.after(C,a);o.Transforms.setSelection(C,{anchor:i,focus:i})}}r&&(W.hasInsertPrefixInCompositon=!0,o.Transforms.insertNodes(C,Ue({text:"\ufeff"},r),{select:!0}))}}}),[w.onCompositionStart]),onCopy:(0,n.useCallback)((e=>{Je(C,e.target)&&!Ye(e,w.onCopy)&&(e.preventDefault(),rt.setFragmentData(C,e.clipboardData,"copy"))}),[w.onCopy]),onCut:(0,n.useCallback)((e=>{if(!c&&Je(C,e.target)&&!Ye(e,w.onCut)){e.preventDefault(),rt.setFragmentData(C,e.clipboardData,"cut");var{selection:t}=C;if(t)if(o.Range.isExpanded(t))o.Editor.deleteFragment(C);else{var r=o.Node.parent(C,t.anchor.path);o.Editor.isVoid(C,r)&&o.Transforms.delete(C)}}}),[c,w.onCut]),onDragOver:(0,n.useCallback)((e=>{if(_e(C,e.target)&&!Ye(e,w.onDragOver)){var t=rt.toSlateNode(C,e.target);o.Editor.isVoid(C,t)&&e.preventDefault()}}),[w.onDragOver]),onDragStart:(0,n.useCallback)((e=>{if(!c&&_e(C,e.target)&&!Ye(e,w.onDragStart)){var t=rt.toSlateNode(C,e.target),r=rt.findPath(C,t);if(o.Editor.isVoid(C,t)||o.Editor.void(C,{at:r,voids:!0})){var n=o.Editor.range(C,r);o.Transforms.select(C,n)}W.isDraggingInternally=!0,rt.setFragmentData(C,e.dataTransfer,"drag")}}),[c,w.onDragStart]),onDrop:(0,n.useCallback)((e=>{if(!c&&_e(C,e.target)&&!Ye(e,w.onDrop)){e.preventDefault();var t=C.selection,r=rt.findEventRange(C,e),n=e.dataTransfer;o.Transforms.select(C,r),W.isDraggingInternally&&(!t||o.Range.equals(t,r)||o.Editor.void(C,{at:r,voids:!0})||o.Transforms.delete(C,{at:t})),rt.insertData(C,n),rt.isFocused(C)||rt.focus(C)}W.isDraggingInternally=!1}),[c,w.onDrop]),onDragEnd:(0,n.useCallback)((e=>{!c&&W.isDraggingInternally&&w.onDragEnd&&_e(C,e.target)&&w.onDragEnd(e),W.isDraggingInternally=!1}),[c,w.onDragEnd]),onFocus:(0,n.useCallback)((e=>{if(!c&&!W.isUpdatingSelection&&Je(C,e.target)&&!Ye(e,w.onFocus)){var t=rt.toDOMNode(C,C),r=rt.findDocumentOrShadowRoot(C);if(W.latestElement=r.activeElement,x&&e.target!==t)return void t.focus();J.set(C,!0)}}),[c,w.onFocus]),onKeyDown:(0,n.useCallback)((e=>{if(!c&&!W.isComposing&&Je(C,e.target)&&!Ye(e,w.onKeyDown)){var{nativeEvent:t}=e,{selection:r}=C,n=C.children[null!==r?r.focus.path[0]:0],a="rtl"===s()(o.Node.string(n));if(xe.isRedo(t)){e.preventDefault();var i=C;return void("function"==typeof i.redo&&i.redo())}if(xe.isUndo(t)){e.preventDefault();var l=C;return void("function"==typeof l.undo&&l.undo())}if(xe.isMoveLineBackward(t))return e.preventDefault(),void o.Transforms.move(C,{unit:"line",reverse:!0});if(xe.isMoveLineForward(t))return e.preventDefault(),void o.Transforms.move(C,{unit:"line"});if(xe.isExtendLineBackward(t))return e.preventDefault(),void o.Transforms.move(C,{unit:"line",edge:"focus",reverse:!0});if(xe.isExtendLineForward(t))return e.preventDefault(),void o.Transforms.move(C,{unit:"line",edge:"focus"});if(xe.isMoveBackward(t))return e.preventDefault(),void(r&&o.Range.isCollapsed(r)?o.Transforms.move(C,{reverse:!a}):o.Transforms.collapse(C,{edge:"start"}));if(xe.isMoveForward(t))return e.preventDefault(),void(r&&o.Range.isCollapsed(r)?o.Transforms.move(C,{reverse:a}):o.Transforms.collapse(C,{edge:"end"}));if(xe.isMoveWordBackward(t))return e.preventDefault(),r&&o.Range.isExpanded(r)&&o.Transforms.collapse(C,{edge:"focus"}),void o.Transforms.move(C,{unit:"word",reverse:!a});if(xe.isMoveWordForward(t))return e.preventDefault(),r&&o.Range.isExpanded(r)&&o.Transforms.collapse(C,{edge:"focus"}),void o.Transforms.move(C,{unit:"word",reverse:a});if(B){if((O||k)&&r&&(xe.isDeleteBackward(t)||xe.isDeleteForward(t))&&o.Range.isCollapsed(r)){var d=o.Node.parent(C,r.anchor.path);if(o.Element.isElement(d)&&o.Editor.isVoid(C,d)&&o.Editor.isInline(C,d))return e.preventDefault(),void o.Editor.deleteBackward(C,{unit:"block"})}}else{if(xe.isBold(t)||xe.isItalic(t)||xe.isTransposeCharacter(t))return void e.preventDefault();if(xe.isSplitBlock(t))return e.preventDefault(),void o.Editor.insertBreak(C);if(xe.isDeleteBackward(t))return e.preventDefault(),void(r&&o.Range.isExpanded(r)?o.Editor.deleteFragment(C,{direction:"backward"}):o.Editor.deleteBackward(C));if(xe.isDeleteForward(t))return e.preventDefault(),void(r&&o.Range.isExpanded(r)?o.Editor.deleteFragment(C,{direction:"forward"}):o.Editor.deleteForward(C));if(xe.isDeleteLineBackward(t))return e.preventDefault(),void(r&&o.Range.isExpanded(r)?o.Editor.deleteFragment(C,{direction:"backward"}):o.Editor.deleteBackward(C,{unit:"line"}));if(xe.isDeleteLineForward(t))return e.preventDefault(),void(r&&o.Range.isExpanded(r)?o.Editor.deleteFragment(C,{direction:"forward"}):o.Editor.deleteForward(C,{unit:"line"}));if(xe.isDeleteWordBackward(t))return e.preventDefault(),void(r&&o.Range.isExpanded(r)?o.Editor.deleteFragment(C,{direction:"backward"}):o.Editor.deleteBackward(C,{unit:"word"}));if(xe.isDeleteWordForward(t))return e.preventDefault(),void(r&&o.Range.isExpanded(r)?o.Editor.deleteFragment(C,{direction:"forward"}):o.Editor.deleteForward(C,{unit:"word"}))}}}),[c,w.onKeyDown]),onPaste:(0,n.useCallback)((e=>{c||!Je(C,e.target)||Ye(e,w.onPaste)||B&&!(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||(e.preventDefault(),rt.insertData(C,e.clipboardData))}),[c,w.onPaste])}),a().createElement(Ve,{decorations:H,node:C,renderElement:f,renderPlaceholder:h,renderLeaf:v,selection:C.selection}))))},ze=e=>{var{attributes:t,children:r}=e;return a().createElement("span",Object.assign({},t),r)},He=()=>[],Ke=(e,t)=>{if(!e.selection||e.selection&&o.Range.isCollapsed(e.selection)){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),h(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},_e=(e,t)=>Me(t)&&rt.hasDOMNode(e,t),Je=(e,t)=>Me(t)&&rt.hasDOMNode(e,t,{editable:!0}),Xe=(e,t)=>{if(_.get(e))return!1;var r=_e(e,t)&&rt.toSlateNode(e,t);return o.Editor.isVoid(e,r)},Ye=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.isDefaultPrevented()||e.isPropagationStopped()},Ze=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.defaultPrevented};function $e(e,t){return e.slice(t.start,e.length-t.end)}function Qe(e,t){var r=rt.toSlateNode(e,t);if(o.Text.isText(r)){var n=r.text,a=t.textContent;if(a.endsWith("\n")&&(a=a.slice(0,a.length-1)),a!==n){var i=function(e,t){if(void 0===e||void 0===t)return null;var r=function(e,t){if(e===t)return null;var r=function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length!==t.length?r:null}(e,t);if(null===r)return null;var n=function(e,t,r){for(var n=e.length,a=t.length,o=Math.min(n,a,r),i=0;i<o;i++)if(e.charAt(n-i-1)!==t.charAt(a-i-1))return i;return e.length!==t.length?o:null}(e,t,Math.min(e.length-r,t.length-r));return null===n?null:{start:r,end:n}}(e,t);if(null==r)return null;var n=$e(t,r),a=$e(e,r);return{start:r.start,end:e.length-r.end,insertText:n,removeText:a}}(n,a);if(null!==i)return{text:i,path:rt.findPath(e,r)}}}}function Ge(e,t,r){var{path:n,text:a}=r,i={anchor:{path:n,offset:a.start},focus:{path:n,offset:a.end}};if(!t||!o.Range.isCollapsed(t))return i;var{insertText:s,removeText:l}=a;if((1===s.length||1===l.length)&&o.Path.equals(t.anchor.path,n)){var[d]=Array.from(o.Editor.nodes(e,{at:t,match:o.Text.isText}));if(d){var[c]=d,{anchor:u}=t,f=c.text[u.offset-1],v=c.text[u.offset];if(1===s.length&&s===v)return t;if(1===l.length&&l===f)return{anchor:{path:n,offset:u.offset-1},focus:{path:n,offset:u.offset}}}}return i}var et=0;class tt{constructor(){this.id="".concat(et++)}}var rt={getWindow(e){var t=U.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey(e,t){var r=H.get(t);return r||(r=new tt,H.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var a=I.get(n);if(null==a){if(o.Editor.isEditor(n))return r;break}var i=j.get(n);if(null==i)break;r.unshift(i),n=a}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},findDocumentOrShadowRoot(e){var t=rt.toDOMNode(e,e),r=t.getRootNode();return(r instanceof Document||r instanceof ShadowRoot)&&null!=r.getSelection?r:t.ownerDocument},isFocused:e=>!!J.get(e),isReadOnly:e=>!!_.get(e),blur(e){var t=rt.toDOMNode(e,e),r=rt.findDocumentOrShadowRoot(e);J.set(e,!1),r.activeElement===t&&t.blur()},focus(e){var t=rt.toDOMNode(e,e),r=rt.findDocumentOrShadowRoot(e);J.set(e,!0),r.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){rt.toDOMNode(e,e);var{selection:t}=e,r=rt.findDocumentOrShadowRoot(e).getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&o.Transforms.deselect(e)},hasDOMNode(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:a=!1}=n,o=rt.toDOMNode(e,e);try{r=Te(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&!(r.closest("[data-slate-editor]")!==o||a&&!r.isContentEditable&&("boolean"!=typeof r.isContentEditable||r.closest('[contenteditable="false"]')!==o)&&!r.getAttribute("data-slate-zero-width"))},insertData(e,t){e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),setFragmentData(e,t,r){e.setFragmentData(t,r)},toDOMNode(e,t){var r=K.get(e),n=o.Editor.isEditor(t)?V.get(e):null==r?void 0:r.get(rt.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return n},toDOMPoint(e,t){var r,[n]=o.Editor.node(e,t.path),a=rt.toDOMNode(e,n);o.Editor.void(e,{at:t})&&(t={path:t.path,offset:0});var i=Array.from(a.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),s=0;for(var l of i){var d=l.childNodes[0];if(null!=d&&null!=d.textContent){var{length:c}=d.textContent,u=l.getAttribute("data-slate-length"),f=s+(null==u?c:parseInt(u,10));if(t.offset<=f){r=[d,Math.min(c,Math.max(0,t.offset-s))];break}s=f}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange(e,t){var{anchor:r,focus:n}=t,a=o.Range.isBackward(t),i=rt.toDOMPoint(e,r),s=o.Range.isCollapsed(t)?i:rt.toDOMPoint(e,n),l=rt.getWindow(e).document.createRange(),[d,c]=a?s:i,[u,f]=a?i:s,v=!!(Te(d)?d:d.parentElement).getAttribute("data-slate-zero-width"),h=!!(Te(u)?u:u.parentElement).getAttribute("data-slate-zero-width");return l.setStart(d,v?1:c),l.setEnd(u,h?1:f),l},toSlateNode(e,t){var r=Te(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?q.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:a}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i,s=rt.toSlateNode(e,t.target),l=rt.findPath(e,s);if(o.Editor.isVoid(e,s)){var d=a.getBoundingClientRect(),c=e.isInline(s)?r-d.left<d.left+d.width-r:n-d.top<d.top+d.height-n,u=o.Editor.point(e,l,{edge:c?"start":"end"}),f=c?o.Editor.before(e,u):o.Editor.after(e,u);if(f)return o.Editor.range(e,f)}var{document:v}=rt.getWindow(e);if(v.caretRangeFromPoint)i=v.caretRangeFromPoint(r,n);else{var h=v.caretPositionFromPoint(r,n);h&&((i=v.createRange()).setStart(h.offsetNode,h.offset),i.setEnd(h.offsetNode,h.offset))}if(!i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return rt.toSlateRange(e,i,{exactMatch:!1,suppressThrow:!1})},toSlatePoint(e,t,r){var{exactMatch:n,suppressThrow:a}=r,[o,i]=n?t:(e=>{var[t,r]=e;if(Te(t)&&t.childNodes.length){var n=r===t.childNodes.length,a=n?r-1:r;for([t,a]=Be(t,a,n?"backward":"forward"),n=a<r;Te(t)&&t.childNodes.length;){var o=n?t.childNodes.length-1:0;t=Pe(t,o,n?"backward":"forward")}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),s=o.parentNode,l=null,d=0;if(s){var c,u=s.closest('[data-slate-void="true"]'),f=s.closest("[data-slate-leaf]"),v=null;if(f){if(l=f.closest('[data-slate-node="text"]')){var h=rt.getWindow(e).document.createRange();h.setStart(l,0),h.setEnd(o,i);var p=h.cloneContents();[...Array.prototype.slice.call(p.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(p.querySelectorAll("[contenteditable=false]"))].forEach((e=>{e.parentNode.removeChild(e)})),d=p.textContent.length,v=l}}else u&&((f=u.querySelector("[data-slate-leaf]"))?(l=f.closest('[data-slate-node="text"]'),d=(v=f).textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach((e=>{d-=e.textContent.length}))):d=1);v&&d===v.textContent.length&&(s.hasAttribute("data-slate-zero-width")||x&&null!==(c=v.textContent)&&void 0!==c&&c.endsWith("\n\n"))&&d--}if(!l){if(a)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var g=rt.toSlateNode(e,l);return{path:rt.findPath(e,g),offset:d}},toSlateRange(e,t,r){var n,a,i,s,l,{exactMatch:d,suppressThrow:c}=r;if((Ne(t)?t.anchorNode:t.startContainer)&&(Ne(t)?(n=t.anchorNode,a=t.anchorOffset,i=t.focusNode,s=t.focusOffset,l=O&&window.document.activeElement&&window.document.activeElement.shadowRoot?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(n=t.startContainer,a=t.startOffset,i=t.endContainer,s=t.endOffset,l=t.collapsed)),null==n||null==i||null==a||null==s)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var u=rt.toSlatePoint(e,[n,a],{exactMatch:d,suppressThrow:c});if(!u)return null;var f=l?u:rt.toSlatePoint(e,[i,s],{exactMatch:d,suppressThrow:c});if(!f)return null;var v={anchor:u,focus:f};return o.Range.isExpanded(v)&&o.Range.isForward(v)&&Te(i)&&o.Editor.void(e,{at:v.focus,mode:"highest"})&&(v=o.Editor.unhangRange(e,v,{voids:!0})),v},hasRange(e,t){var{anchor:r,focus:n}=t;return o.Editor.hasPath(e,r.path)&&o.Editor.hasPath(e,n.path)}};class nt{constructor(e,t){this.editor=e,this.restoreDOM=t,this.flush=e=>{try{this.reconcileMutations(e)}catch(e){console.error(e),this.restoreDOM()}},this.reconcileMutations=e=>{var t=function(e,t){var r=[],n=[],a=[],i=[];return t.forEach((t=>{switch(t.type){case"childList":t.addedNodes.length&&t.addedNodes.forEach((e=>{r.push(e)})),t.removedNodes.forEach((e=>{n.push(e)}));break;case"characterData":i.push(t);var{parentNode:s}=t.target;if(!s)return;var l=Qe(e,s);if(!l)return;if(a.some((e=>{var{path:t}=e;return o.Path.equals(t,l.path)})))return;a.push(l)}})),{addedNodes:r,removedNodes:n,insertedText:a,characterDataMutations:i}}(this.editor,e),{insertedText:r,removedNodes:n}=t;if(((e,t)=>{var{selection:r}=e,{removedNodes:n}=t;return!!r&&o.Range.isExpanded(r)&&n.length>0})(this.editor,t)){var a=function(e){return e.reduce(((e,t)=>{var{text:r}=t;return"".concat(e).concat(r.insertText)}),"")}(r);this.replaceExpandedSelection(a)}else((e,t)=>{var{addedNodes:r}=t,{selection:n}=e,a=n?o.Node.parent(e,n.anchor.path):null,i=a?rt.toDOMNode(e,a):null;return!!i&&r.some((e=>e instanceof HTMLElement&&e.tagName===(null==i?void 0:i.tagName)))})(this.editor,t)?this.insertBreak():((e,t)=>{var{addedNodes:r,characterDataMutations:n,removedNodes:a}=t;return a.length>0&&0===r.length&&n.length>0})(this.editor,t)?this.removeLeafNodes(n):((e,t)=>{var{removedNodes:r}=t;return r.length>0})(this.editor,t)?this.deleteBackward():((e,t)=>{var{insertedText:r}=t;return r.length>0})(this.editor,t)&&this.insertText(r)},this.insertText=e=>{var{selection:t}=this.editor;if(X.get(this.editor)||Y.get(this.editor))return Z.set(this.editor,e),void Y.set(this.editor,!1);e.forEach((e=>{var r=e.text.insertText,n=Ge(this.editor,t,e);o.Transforms.setSelection(this.editor,n),o.Editor.insertText(this.editor,r)}))},this.insertBreak=()=>{var{selection:e}=this.editor;o.Editor.insertBreak(this.editor),this.restoreDOM(),e&&setTimeout((()=>{this.editor.selection&&o.Range.equals(e,this.editor.selection)&&o.Transforms.move(this.editor)}),100)},this.replaceExpandedSelection=e=>{o.Editor.deleteFragment(this.editor),e.length&&o.Editor.insertText(this.editor,e),this.restoreDOM()},this.deleteBackward=()=>{o.Editor.deleteBackward(this.editor),rt.focus(this.editor),this.restoreDOM()},this.removeLeafNodes=e=>{for(var t of e){var r=rt.toSlateNode(this.editor,t);if(r){var n=rt.findPath(this.editor,r);o.Transforms.delete(this.editor,{at:n}),this.restoreDOM()}}},this.editor=e,this.restoreDOM=t}}function at(e,t,r){var[a]=(0,n.useState)((()=>new MutationObserver(t)));P((()=>{a.disconnect()})),(0,n.useEffect)((()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return a.observe(e.current,r),a.disconnect.bind(a)}))}var ot={childList:!0,characterData:!0,subtree:!0};function it(e){var t,r=Te(e)?e:e.parentElement;return r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]")),r&&q.get(r)||(null!==(t=r)&&void 0!==t&&t.parentElement?it(r.parentElement):null)}function st(e,t){var r=he(),a=(0,n.useRef)(new Set);at(e,(0,n.useCallback)((e=>{t.current&&e.forEach((e=>{var{target:t}=e,r=it(t);if(r)return a.current.add(r)}))}),[]),ot),a.current.clear();var i=(0,n.useCallback)((()=>{var e=Array.from(a.current.values()),t=e.filter((t=>!e.some((e=>o.Path.isParent(rt.findPath(r,e),rt.findPath(r,t))))));t.forEach((e=>{var t;null===(t=Q.get(e))||void 0===t||t()})),a.current.clear()}),[]);return i}var lt={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};var dt=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ft=e=>{var{autoFocus:t,decorate:r=He,onDOMBeforeInput:i,placeholder:s,readOnly:l=!1,renderElement:c,renderLeaf:f,renderPlaceholder:v=(e=>a().createElement(ze,Object.assign({},e))),style:p={},as:g="div"}=e,m=E(e,dt),w=Se(),[b,C]=(0,n.useState)(!1),y=(0,n.useRef)(null),x=function(e){var t=he(),{receivedUserInput:r,onUserInput:a}=function(){var e=he(),t=(0,n.useRef)(!1),r=(0,n.useRef)(null),a=(0,n.useCallback)((()=>{if(!1===t.current){var n=rt.getWindow(e);t.current=!0,r.current&&n.cancelAnimationFrame(r.current),r.current=n.requestAnimationFrame((()=>{t.current=!1,r.current=null}))}}),[]);return(0,n.useEffect)((()=>{t.current&&(t.current=!1)})),{receivedUserInput:t,onUserInput:a}}(),o=st(e,r),i=(0,n.useMemo)((()=>new nt(t,o)),[o,t]),s=(0,n.useRef)(null),l=(0,n.useRef)(!1);return at(e,(0,n.useCallback)((e=>{r.current&&(l.current=!0,i.flush(e),s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{l.current=!1,s.current=null}),250))}),[]),lt),{isReconciling:l,onUserInput:a}}(y);_.set(w,l);var k=(0,n.useMemo)((()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null})),[]),D=se(w);P((()=>{var e;y.current&&(e=Re(y.current))?(U.set(w,e),V.set(w,y.current),z.set(w,y.current),q.set(y.current,w)):z.delete(w);try{var{selection:t}=w,r=rt.findDocumentOrShadowRoot(w).getSelection();if(k.isComposing||!r||!rt.isFocused(w))return;var n="None"!==r.type;if(!t&&!n)return;var a=V.get(w),i=!1;if(a.contains(r.anchorNode)&&a.contains(r.focusNode)&&(i=!0),n&&i&&t){var s=rt.toSlateRange(w,r,{exactMatch:!0,suppressThrow:!0});if(s&&o.Range.equals(s,t))return}if(t&&!rt.hasRange(w,t))return void(w.selection=rt.toSlateRange(w,r,{exactMatch:!1,suppressThrow:!1}));var l=rt.toDOMNode(w,w);k.isUpdatingSelection=!0;var d=t&&rt.toDOMRange(w,t);if(d){o.Range.isBackward(t)?r.setBaseAndExtent(d.endContainer,d.endOffset,d.startContainer,d.startOffset):r.setBaseAndExtent(d.startContainer,d.startOffset,d.endContainer,d.endOffset);var c=d.startContainer.parentElement;c.getBoundingClientRect=d.getBoundingClientRect.bind(d),h(c,{scrollMode:"if-needed",boundary:l}),delete c.getBoundingClientRect}else r.removeAllRanges();setTimeout((()=>{k.isUpdatingSelection=!1}))}catch(e){k.isUpdatingSelection=!1}})),(0,n.useEffect)((()=>{y.current&&t&&y.current.focus()}),[t]);var O=(0,n.useCallback)(u()((()=>{try{if(!k.isComposing&&!k.isUpdatingSelection&&!x.isReconciling.current){var e=rt.findDocumentOrShadowRoot(w),{activeElement:t}=e,r=rt.toDOMNode(w,w),n=e.getSelection();if(t===r?(k.latestElement=t,J.set(w,!0)):J.delete(w),!n)return o.Transforms.deselect(w);var{anchorNode:a,focusNode:i}=n,s=Je(w,a)||Xe(w,a),l=Je(w,i)||Xe(w,i);if(s&&l){var d=rt.toSlateRange(w,n,{exactMatch:!1,suppressThrow:!1});o.Transforms.select(w,d)}else o.Transforms.deselect(w)}}catch(e){}}),100),[l]),S=(0,n.useMemo)((()=>d()(O,0)),[O]),R=(0,n.useCallback)((e=>{l||!Je(w,e.target)||Ze(e,i)||(S.flush(),x.onUserInput())}),[l,i]);P((()=>{var e=y.current;return null==e||e.addEventListener("beforeinput",R),()=>null==e?void 0:e.removeEventListener("beforeinput",R)}),[D,i]),P((()=>{var e=rt.getWindow(w);return e.document.addEventListener("selectionchange",S),()=>{e.document.removeEventListener("selectionchange",S)}}),[S]);var T=r([w,[]]);if(s&&1===w.children.length&&1===Array.from(o.Node.texts(w)).length&&""===o.Node.string(w)&&!b){var M=o.Editor.start(w,[]);T.push({[G]:!0,placeholder:s,anchor:M,focus:M})}return a().createElement(ke.Provider,{value:l},a().createElement(pe.Provider,{value:r},a().createElement(g,Object.assign({key:D,role:l?void 0:"textbox"},m,{spellCheck:m.spellCheck,autoCorrect:m.autoCorrect,autoCapitalize:m.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l||void 0,suppressContentEditableWarning:!0,ref:y,style:ut({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},p),onCopy:(0,n.useCallback)((e=>{Je(w,e.target)&&!Ye(e,m.onCopy)&&(e.preventDefault(),rt.setFragmentData(w,e.clipboardData,"copy"))}),[m.onCopy]),onCut:(0,n.useCallback)((e=>{if(!l&&Je(w,e.target)&&!Ye(e,m.onCut)){e.preventDefault(),rt.setFragmentData(w,e.clipboardData,"cut");var{selection:t}=w;if(t)if(o.Range.isExpanded(t))o.Editor.deleteFragment(w);else{var r=o.Node.parent(w,t.anchor.path);o.Editor.isVoid(w,r)&&o.Transforms.delete(w)}}}),[l,m.onCut]),onFocus:(0,n.useCallback)((e=>{if(!l&&!k.isUpdatingSelection&&Je(w,e.target)&&!Ye(e,m.onFocus)){var t=rt.findDocumentOrShadowRoot(w);k.latestElement=t.activeElement,J.set(w,!0)}}),[l,m.onFocus]),onBlur:(0,n.useCallback)((e=>{if(!l&&!k.isUpdatingSelection&&Je(w,e.target)&&!Ye(e,m.onBlur)){var t=rt.findDocumentOrShadowRoot(w);if(k.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(!(r===rt.toDOMNode(w,w)||Te(r)&&r.hasAttribute("data-slate-spacer"))){if(null!=r&&Me(r)&&rt.hasDOMNode(w,r)){var n=rt.toSlateNode(w,r);if(o.Element.isElement(n)&&!w.isVoid(n))return}J.delete(w)}}}}),[l,m.onBlur]),onClick:(0,n.useCallback)((e=>{if(!l&&_e(w,e.target)&&!Ye(e,m.onClick)&&Me(e.target)){var t=rt.toSlateNode(w,e.target),r=rt.findPath(w,t);if(o.Editor.hasPath(w,r)&&o.Node.get(w,r)===t){var n=o.Editor.start(w,r),a=o.Editor.end(w,r),i=o.Editor.void(w,{at:n}),s=o.Editor.void(w,{at:a});if(i&&s&&o.Path.equals(i[1],s[1])){var d=o.Editor.range(w,n);o.Transforms.select(w,d)}}}}),[l,m.onClick]),onCompositionEnd:(0,n.useCallback)((e=>{Je(w,e.target)&&!Ye(e,m.onCompositionEnd)&&(S.flush(),setTimeout((()=>{k.isComposing&&C(!1),k.isComposing=!1,X.set(w,!1),Y.set(w,!0);var e=Z.get(w)||[];if(e.length){Z.set(w,[]);var{selection:t}=w;e.forEach((e=>{var r=e.text.insertText,n=Ge(w,t,e);o.Transforms.setSelection(w,n),o.Editor.insertText(w,r)}))}}),20))}),[m.onCompositionEnd]),onCompositionUpdate:(0,n.useCallback)((e=>{Je(w,e.target)&&!Ye(e,m.onCompositionUpdate)&&(!k.isComposing&&C(!0),k.isComposing=!0,X.set(w,!0))}),[m.onCompositionUpdate]),onCompositionStart:(0,n.useCallback)((e=>{Je(w,e.target)&&!Ye(e,m.onCompositionStart)&&(!k.isComposing&&C(!0),k.isComposing=!0,X.set(w,!0))}),[m.onCompositionStart]),onPaste:(0,n.useCallback)((e=>{e.clipboardData=(e=>{if(!e.getData("application/x-slate-fragment")){var t=Ae(e);if(t){var r=new DataTransfer;return e.types.forEach((t=>{r.setData(t,e.getData(t))})),r.setData("application/x-slate-fragment",t),r}}return e})(e.clipboardData),!Je(w,e.target)||Ye(e,m.onPaste)||l||(e.preventDefault(),rt.insertData(w,e.clipboardData))}),[l,m.onPaste])}),we({decorations:T,node:w,renderElement:c,renderPlaceholder:v,renderLeaf:f,selection:w.selection}))))},vt=(0,n.createContext)(!1),ht=()=>(0,n.useContext)(vt),pt=(0,n.createContext)({}),gt=(e,t)=>e===t;function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt,[,r]=(0,n.useReducer)((e=>e+1),0),a=(0,n.useContext)(pt);if(!a)throw new Error("The `useSlateSelector` hook must be used inside the <Slate> component's context.");var o,{getSlate:i,addEventListener:s}=a,l=(0,n.useRef)(),d=(0,n.useRef)((()=>null)),c=(0,n.useRef)(null);try{o=e!==d.current||l.current?e(i()):c.current}catch(e){throw l.current&&e instanceof Error&&(e.message+="\nThe error may be correlated with this previous error:\n".concat(l.current.stack,"\n\n")),e}return P((()=>{d.current=e,c.current=o,l.current=void 0})),P((()=>{function e(){try{var e=d.current(i());if(t(e,c.current))return;c.current=e}catch(e){l.current=e}r()}var n=s(e);return e(),()=>n()}),[s,i]),o}var wt=["editor","children","onChange","value"],Et=e=>{var{editor:t,children:r,onChange:i,value:s}=e,l=E(e,wt),d=(0,n.useRef)(!1),[c,u]=a().useState((()=>{if(!o.Node.isNodeList(s))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(JSON.stringify(s)));if(!o.Editor.isEditor(t))throw new Error("[Slate] editor is invalid! you passed:"+"".concat(JSON.stringify(t)));return t.children=s,Object.assign(t,l),[t]})),{selectorContext:f,onChange:v}=function(e){var t=(0,n.useRef)([]).current,r=(0,n.useRef)({editor:e}).current,a=(0,n.useCallback)((e=>{r.editor=e,t.forEach((t=>t(e)))}),[]);return{selectorContext:(0,n.useMemo)((()=>({getSlate:()=>r.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})})),[t,r]),onChange:a}}(t),h=(0,n.useCallback)((()=>{i(t.children),u([t]),v(t)}),[i]);$.set(t,h),(0,n.useEffect)((()=>()=>{$.set(t,(()=>{})),d.current=!0}),[]);var[p,g]=(0,n.useState)(rt.isFocused(t));return(0,n.useEffect)((()=>{g(rt.isFocused(t))})),P((()=>{var e=()=>g(rt.isFocused(t));return document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)}),[]),P((()=>{var e=()=>g(rt.isFocused(t));return document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)}}),[]),a().createElement(pt.Provider,{value:f},a().createElement(Oe.Provider,{value:c},a().createElement(ve.Provider,{value:t},a().createElement(vt.Provider,{value:p},r))))},bt=()=>{var e=(0,n.useContext)(ve);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},Ct=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},yt=(e,t,r)=>{var n=rt.toDOMRange(e,t).getBoundingClientRect(),a=rt.toDOMRange(e,r).getBoundingClientRect();return Ct(n,a)&&Ct(a,n)},xt=e=>{var t=e,{apply:r,onChange:n,deleteBackward:a}=t;return K.set(t,new WeakMap),t.deleteBackward=r=>{if("line"!==r)return a(r);if(e.selection&&o.Range.isCollapsed(e.selection)){var n=o.Editor.above(e,{match:t=>o.Editor.isBlock(e,t),at:e.selection});if(n){var[,i]=n,s=o.Editor.range(e,i,e.selection.anchor),l=((e,t)=>{var r=o.Editor.range(e,o.Range.end(t)),n=Array.from(o.Editor.positions(e,{at:t})),a=0,i=n.length,s=Math.floor(i/2);if(yt(e,o.Editor.range(e,n[a]),r))return o.Editor.range(e,n[a],r);if(n.length<2)return o.Editor.range(e,n[n.length-1],r);for(;s!==n.length&&s!==a;)yt(e,o.Editor.range(e,n[s]),r)?i=s:a=s,s=Math.floor((a+i)/2);return o.Editor.range(e,n[i],r)})(t,s);o.Range.isCollapsed(l)||o.Transforms.delete(e,{at:l})}}},t.apply=e=>{var n=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var[a,i]of o.Editor.levels(t,{at:e.path})){var s=rt.findKey(t,a);n.push([i,s])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var[l,d]of o.Editor.levels(t,{at:o.Path.parent(e.path)})){var c=rt.findKey(t,l);n.push([d,c])}break;case"move_node":for(var[u,f]of o.Editor.levels(t,{at:o.Path.common(o.Path.parent(e.path),o.Path.parent(e.newPath))})){var v=rt.findKey(t,u);n.push([f,v])}}for(var[h,p]of(r(e),n)){var[g]=o.Editor.node(t,h);H.set(g,p)}},t.setFragmentData=e=>{var{selection:r}=t;if(r){var[n,a]=o.Range.edges(r),i=o.Editor.void(t,{at:n.path}),s=o.Editor.void(t,{at:a.path});if(!o.Range.isCollapsed(r)||i){var l=rt.toDOMRange(t,r),d=l.cloneContents(),c=d.childNodes[0];if(d.childNodes.forEach((e=>{e.textContent&&""!==e.textContent.trim()&&(c=e)})),s){var[u]=s,f=l.cloneRange(),v=rt.toDOMNode(t,u);f.setEndAfter(v),d=f.cloneContents()}if(i&&(c=d.querySelector("[data-slate-spacer]")),Array.from(d.querySelectorAll("[data-slate-zero-width]")).forEach((e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),Fe(c)){var h=c.ownerDocument.createElement("span");h.style.whiteSpace="pre",h.appendChild(c),d.appendChild(h),c=h}var p=t.getFragment(),g=JSON.stringify(p),m=window.btoa(encodeURIComponent(g));c.setAttribute("data-slate-fragment",m),e.setData("application/x-slate-fragment",m);var w=d.ownerDocument.createElement("div");return w.appendChild(d),w.setAttribute("hidden","true"),d.ownerDocument.body.appendChild(w),e.setData("text/html",w.innerHTML),e.setData("text/plain",Le(w)),d.ownerDocument.body.removeChild(w),e}}},t.insertData=e=>{t.insertFragmentData(e)||t.insertTextData(e)},t.insertFragmentData=e=>{var r=e.getData("application/x-slate-fragment")||Ae(e);if(r){var n=decodeURIComponent(window.atob(r)),a=JSON.parse(n);return t.insertFragment(a),!0}return!1},t.insertTextData=e=>{var r=e.getData("text/plain");if(r){var n=r.split(/\r\n|\r|\n/),a=!1;for(var i of n)a&&o.Transforms.splitNodes(t,{always:!0}),t.insertText(i),a=!0;return!0}return!1},t.onChange=()=>{m().unstable_batchedUpdates((()=>{var e=$.get(t);e&&e(),n()}))},t},kt=y?ft:qe},64358:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function a(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function o(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return a(r.overflowY,t)||a(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function i(e,t,r,n,a,o,i,s){return o<e&&i>t||o>e&&i<t?0:o<=e&&s<=r||i>=t&&s>=r?o-e-n:i>t&&s<r||o<e&&s>r?i-t+a:0}r.d(t,{Z:()=>s});var s=function(e,t){var r=window,a=t.scrollMode,s=t.block,l=t.inline,d=t.boundary,c=t.skipOverflowHiddenElements,u="function"==typeof d?d:function(e){return e!==d};if(!n(e))throw new TypeError("Invalid target");for(var f,v,h=document.scrollingElement||document.documentElement,p=[],g=e;n(g)&&u(g);){if((g=null==(v=(f=g).parentElement)?f.getRootNode().host||null:v)===h){p.push(g);break}null!=g&&g===document.body&&o(g)&&!o(document.documentElement)||null!=g&&o(g,c)&&p.push(g)}for(var m=r.visualViewport?r.visualViewport.width:innerWidth,w=r.visualViewport?r.visualViewport.height:innerHeight,E=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,C=e.getBoundingClientRect(),y=C.height,x=C.width,k=C.top,D=C.right,O=C.bottom,S=C.left,R="start"===s||"nearest"===s?k:"end"===s?O:k+y/2,T="center"===l?S+x/2:"end"===l?D:S,M=[],N=0;N<p.length;N++){var F=p[N],B=F.getBoundingClientRect(),P=B.height,L=B.width,W=B.top,A=B.right,j=B.bottom,I=B.left;if("if-needed"===a&&k>=0&&S>=0&&O<=w&&D<=m&&k>=W&&O<=j&&S>=I&&D<=A)return M;var U=getComputedStyle(F),V=parseInt(U.borderLeftWidth,10),q=parseInt(U.borderTopWidth,10),z=parseInt(U.borderRightWidth,10),H=parseInt(U.borderBottomWidth,10),K=0,_=0,J="offsetWidth"in F?F.offsetWidth-F.clientWidth-V-z:0,X="offsetHeight"in F?F.offsetHeight-F.clientHeight-q-H:0,Y="offsetWidth"in F?0===F.offsetWidth?0:L/F.offsetWidth:0,Z="offsetHeight"in F?0===F.offsetHeight?0:P/F.offsetHeight:0;if(h===F)K="start"===s?R:"end"===s?R-w:"nearest"===s?i(b,b+w,w,q,H,b+R,b+R+y,y):R-w/2,_="start"===l?T:"center"===l?T-m/2:"end"===l?T-m:i(E,E+m,m,V,z,E+T,E+T+x,x),K=Math.max(0,K+b),_=Math.max(0,_+E);else{K="start"===s?R-W-q:"end"===s?R-j+H+X:"nearest"===s?i(W,j,P,q,H+X,R,R+y,y):R-(W+P/2)+X/2,_="start"===l?T-I-V:"center"===l?T-(I+L/2)+J/2:"end"===l?T-A+z+J:i(I,A,L,V,z+J,T,T+x,x);var $=F.scrollLeft,Q=F.scrollTop;R+=Q-(K=Math.max(0,Math.min(Q+K/Z,F.scrollHeight-P/Z+X))),T+=$-(_=Math.max(0,Math.min($+_/Y,F.scrollWidth-L/Y+J)))}M.push({el:F,top:K,left:_})}return M}}}]);
//# sourceMappingURL=2422.44be38f6b0cdc8d6.js.map