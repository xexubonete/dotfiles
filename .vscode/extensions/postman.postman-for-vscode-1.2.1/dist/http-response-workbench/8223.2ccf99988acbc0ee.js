"use strict";(self.webpackChunkhttp_response_workbench=self.webpackChunkhttp_response_workbench||[]).push([[8223],{18223:(e,t,a)=>{a.d(t,{Z:()=>Ua});var s=a(40540),r=a.n(s),o=a(50297),n=a(36306),i=a(35736),l=a(58560),d=a(19578),c=a(59530),u=a.n(c),h=a(82196),p=a(64495),b=a(80605),m=a(26246),g=a(98276),y=a(67490);const v=()=>(0,y.P)().name;var x=a(49886),f=a(24502);const j=()=>{const e=(0,y.P)();return{isDirty:e.isDirty,isSaving:e.isSaving,isConflicted:e.isConflicted}};var w=a(98283),C=a(97201),S=a(53186);const T=["mutate"],P=(0,S.updateResponseMutation)(),k=()=>{const e=(0,y.P)(),t=(0,C.useMutation)(P),{mutate:a}=t,s=(0,w.Z)(t,T);return Object.assign({mutate:t=>{const s=e.trackedState,r=e.isConflicted;return t&&(s.name=t),e.persistUpdates(),e.setIsSaving(!0),a({responseId:e.id,patch:s},{onError:()=>{e.rollbackUpdates(s,r),(0,n.Am)({title:"Unable to save changes",description:"Could not save changes. Please try again.",status:"error"})},onSettled:()=>{e.setIsSaving(!1)}})}},s)},R=new Set(["Alt","Meta","Control","Shift"]),E=({ctrlKey:e,shiftKey:t,altKey:a,keys:r,callback:o})=>{const n=(0,s.useRef)([]),i=(0,s.useRef)(!1),l=(0,s.useRef)(!1),d=(0,s.useRef)(!1),c=(0,s.useRef)(null),u=(0,s.useRef)(o);u.current=o,(0,s.useEffect)((()=>{const s=s=>{if((s.ctrlKey||s.metaKey)&&(i.current=!0),s.shiftKey&&(l.current=!0),s.altKey&&(d.current=!0),!R.has(s.key)&&Array.isArray(r)){const e=r.findIndex((e=>e.toLowerCase()===s.key.toLowerCase()));-1!==e&&(n.current[e]=s.key)}const o=!e||i.current,h=!t||l.current,p=!a||d.current;if(c.current=setTimeout((()=>{i.current=!1,l.current=!1,d.current=!1,n.current=[]}),250),o&&h&&p){if(Array.isArray(r)&&((e,t)=>{let a=0;for(const r of e){var s;if(r.toLowerCase()!==(null==(s=t[a])?void 0:s.toLowerCase()))return!1;a++}return!0})(r,n.current))return u.current();if(r===s.key)return u.current()}};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s),c.current&&clearTimeout(c.current)}}),[e,t,a,r])},I=()=>{var e,t;const a=(0,y.P)();return 0===Object.keys(a.permissions).length?{canEdit:!0,canDelete:!0}:{canEdit:null==(e=a.permissions[S.CollectionPermissionNames.UPDATE_COLLECTION])?void 0:e.allowed,canDelete:null==(t=a.permissions[S.CollectionPermissionNames.DELETE_COLLECTION])?void 0:t.allowed}};var O=a(39245),L=a(38394),N=a(95617),D=a(26663),_=a.n(D),q=a(52322);const Z=({pathname:e})=>{const[t,a]=(0,s.useState)(!1),r=(0,s.useRef)(),o=(0,s.useCallback)((()=>{const t=_().ARTEMIS_URL;navigator.clipboard.writeText(t+e).then((()=>{a(!0),null!=r&&r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{a(!1)}),1500)}))}),[e,r]);return(0,q.jsx)(b.Z,{type:"tertiary",className:"copy-link-btn",size:"small",icon:t?(0,q.jsx)(L.Z,{size:"small",color:"base-color-success"}):(0,q.jsx)(N.Z,{size:"small"}),onClick:o,tooltip:"Copy link to example"})};var V=a(10099);const F=u().div.withConfig({displayName:"response-meta-header__ResponseMetaHeaderContainer",componentId:"sc-719hqe-0"})(["display:flex;flex-direction:'row';justify-content:space-between;box-sizing:border-box;height:48px;padding:var(--spacing-s) var(--spacing-s);border-bottom:var(--border-width-default) var(--border-style-solid) var(--border-color-default);width:100%;"]),B=u().div.withConfig({displayName:"response-meta-header__BreadcrumbContainer",componentId:"sc-719hqe-1"})(["color:var(--content-color-primary);font-weight:var(--text-weight-medium);width:100%;nav{.copy-link-btn{display:none;}:hover{.copy-link-btn{display:inline-flex;}}}"]),U=u()(l.Z).withConfig({displayName:"response-meta-header__LeftSectionRow",componentId:"sc-719hqe-2"})(["overflow:hidden;width:100%;"]),M=(0,o.observer)((()=>{const e=(0,y.P)().breadcrumbs,t=v(),{isDirty:a,isConflicted:r}=j(),{canEdit:o}=I(),{mutate:n}=k(),d=(0,O.useNavigate)(),{pathname:c}=(0,O.useLocation)(),u=(0,V.useActiveWorkspaceId)(),b=(0,s.useRef)(null),{rename:m}=(0,O.useAdditionalRouteContext)();(0,s.useEffect)((()=>{var e;m&&(null==(e=b.current)||null==e.triggerRenameMode||e.triggerRenameMode())}),[m]);const g=e=>{e!==t&&n(e)},{setTabTitle:f}=(0,O.useTabTitleMeta)();return(0,s.useEffect)((()=>{f(t,"http-response",{isDirty:a,isConflicted:r})}),[a,r,t]),t?(0,q.jsx)(U,{direction:"row",shrink:"1",grow:"0",alignItems:"center",gap:"spacing-s",children:(0,q.jsx)(B,{children:e&&(0,q.jsx)(h.aG,{metaInfo:{custom:(0,q.jsx)(l.Z,{alignItems:"center",gap:"spacing-s",children:!o&&(0,q.jsx)(x.Z,{title:"You do not have permissions to edit this example"})})},appendActions:(0,q.jsx)(Z,{pathname:c}),onItemClick:e=>{d(`/workspace/${u}/${e.entityType}/${e.id}`,{},{customNavEvent:"VIEW_COLLECTION_FOLDER_REQUEST"})},ref:b,children:e.map((e=>(0,q.jsx)(p.Z,{enableRename:"response"===e.entityType&&o,renameInputConfig:{onSubmit:g,value:t},itemData:e,children:e.name},e.name)))})})}):(0,q.jsx)(i.Z,{})})),z=(0,o.observer)((()=>{const{isDirty:e,isSaving:t,isConflicted:a}=j(),{mutate:s}=k(),{canEdit:r}=I(),o=r&&e,n=v(),i=m.Modals.getModals(),d=async()=>{if(!o)return;if(!a)return s();const e=await i.showWarningDialog({uid:"response-workbench-tab-conflict-confirmation",subject:"DO YOU WANT TO SAVE?",message:`This tab ${n} has been modified from another tab. Saving these changes will overwrite this example.`,options:[{title:"Cancel",isDefaultOnDismiss:!0},{title:"Save and overwrite",isPrimary:!0}]});return e&&"Save and overwrite"===e.title?s():void 0};return E({ctrlKey:!0,keys:"s",callback:d}),(0,q.jsxs)(l.Z,{className:"request-meta-header-right-section",direction:"row",alignItems:"center",gap:"spacing-s",children:[(0,q.jsx)(b.Z,{type:"tertiary",text:t?"Saving...":"Save",isDisabled:!o||t,onClick:d,icon:(0,q.jsx)(f.Z,{})}),(0,q.jsx)(g.ActiveEnvironmentSelector,{})]})})),H=()=>(0,q.jsxs)(F,{children:[(0,q.jsx)(M,{}),(0,q.jsx)(z,{})]});var A=a(88131);const W=u().input.withConfig({displayName:"response-url-input__StyledInput",componentId:"sc-1bta9v9-0"})(["width:100%;box-sizing:border-box;padding:var(--spacing-s);color:var(--content-color-primary);border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);border-radius:0 var(--border-radius-default) var(--border-radius-default) 0;background:var(--background-color-primary);border-left:none;&:focus-within{box-shadow:",";border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);border-left:none;z-index:1;}&:focus,&.is-focused{background-color:var(--background-color-primary);border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);}"],(e=>e.isHardFocused?"0 0 0 2px var(--base-color-info)":"none")),K=(0,o.observer)((()=>{const{url:e,setURL:t}=(()=>{const e=(0,y.P)();return{url:e.urlStore.url,setURL:e.setURL}})();return(0,A.usePostmanInputFeatureFlag)()?(0,q.jsx)(A.URLInput,{value:e,onChange:t,suggestions:[]}):(0,q.jsx)(W,{value:e,"aria-label":"URL Input",type:"text",onChange:e=>{t(e.target.value)},autoFocus:!0})}));K.displayName="observer(ResponseURLInput)";const $=K;var Q=a(64382),J=a(63622);const Y={GET:{label:"GET",value:"GET",color:"content-color-success"},POST:{label:"POST",value:"POST",color:"content-color-warning"},PUT:{label:"PUT",value:"PUT",color:"content-color-info"},PATCH:{label:"PATCH",value:"PATCH",color:"content-color-patch-method"},DELETE:{label:"DELETE",value:"DELETE",color:"content-color-error"},HEAD:{label:"HEAD",value:"HEAD",color:"content-color-success"},OPTIONS:{label:"OPTIONS",value:"OPTIONS",color:"content-color-options-method"}},G=Object.values(Object.assign({},Y,{COPY:{label:"COPY",value:"COPY",color:"content-color-primary"},LINK:{label:"LINK",value:"LINK",color:"content-color-primary"},UNLINK:{label:"UNLINK",value:"UNLINK",color:"content-color-primary"},PURGE:{label:"PURGE",value:"PURGE",color:"content-color-primary"},LOCK:{label:"LOCK",value:"LOCK",color:"content-color-primary"},UNLOCK:{label:"UNLOCK",value:"UNLOCK",color:"content-color-primary"},PROPFIND:{label:"PROPFIND",value:"PROPFIND",color:"content-color-primary"},VIEW:{label:"VIEW",value:"VIEW",color:"content-color-primary"}})),X="http-response-method-dropdown",ee=u()(Q.Z).withConfig({displayName:"response-method-dropdown__StyledDropdown",componentId:"sc-109zxfw-0"})(["min-width:115px;.aether-dropdown__control{height:40px;border-radius:var(--border-radius-default) 0 0 var(--border-radius-default);background-color:var(--background-color-primary);border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);border-right:none;&:hover{border-color:var(--border-color-default);}&--is-focused{background-color:var(--background-color-primary);border:var(--border-width-default) var(--border-style-solid) var(--base-color-info);box-shadow:var(--base-color-info) 0 0 0 2px;&:hover{border-color:var(--base-color-info);}}&::after{content:'';background-color:var(--border-color-default);position:absolute;top:25%;bottom:25%;right:0;width:var(--border-width-default);}&:focus-within{&::after{display:none;}}.aether-dropdown__value-container{.aether-dropdown__single-value{font-weight:var(--text-weight-medium);color:",";}}.aether-dropdown__indicators{.aether-dropdown__clear-indicator{display:none;}}}"],(e=>{var t;return e.value&&e.theme[null==(t=Y[e.value.label])?void 0:t.color]})),te=e=>(0,q.jsx)(J.ZP,{color:null==e?void 0:e.color,typographyStyle:{fontWeight:"text-weight-medium"},isTruncated:!0,children:null==e?void 0:e.label}),ae=(0,o.observer)((()=>{const{method:e,setMethod:t}=(()=>{const e=(0,y.P)();return{method:e.method,setMethod:e.setMethod}})(),[a,r]=(0,s.useState)({label:e,value:e}),o=(0,s.useRef)(null);return(0,s.useEffect)((()=>{r({label:e,value:e})}),[e]),(0,s.useEffect)((()=>{const e=o.current,t=null==e?void 0:e.querySelector(`#${X}`),a=e=>{e.target.value&&r(null)};return null==t||t.addEventListener("keyup",a),()=>{null==t||t.removeEventListener("keyup",a)}}),[]),(0,q.jsx)("div",{ref:o,"data-testid":"method-dropdown-container",children:(0,q.jsx)(ee,{id:X,onChange:e=>{e?t(e.value):r(null)},options:G,placeholder:"METHOD",menuPlacement:"bottom-start",allowCreateNewOption:!0,isClearable:!0,value:a,customOptionComponent:te,onClose:()=>{a||r({label:e,value:e})}})})})),se=u().div.withConfig({displayName:"response-url-editor__URLEditorGroup",componentId:"sc-1mquj06-0"})(["display:flex;flex-direction:row;height:40px;flex:1;box-sizing:border-box;"]),re=()=>(0,q.jsxs)(se,{children:[(0,q.jsx)(ae,{}),(0,q.jsx)($,{})]});var oe=a(71453);const ne=u()(b.Z).withConfig({displayName:"try-request-button__StyledTyButton",componentId:"sc-1s8tv54-0"})(["height:40px;width:100px;background-color:var(--base-color-info);font-size:var(--text-size-l);font-weight:var(--text-weight-medium);color:var(--content-color-constant);&:hover,&.is-hovered{background-color:var(--highlight-background-color-info);}&:disabled,&.is-disabled{opacity:0.5;background-color:var(--base-color-info);color:var(--content-color-constant);}&:active,&.is-active{background-color:var(--highlight-background-color-info);}"]),ie=u().span.withConfig({displayName:"try-request-button__StyledTryButtonText",componentId:"sc-1s8tv54-1"})(["display:inline-flex;align-items:center;"]),le=(0,o.observer)((()=>{const e=(0,y.P)(),t=(0,V.useActiveWorkspaceId)(),a=(0,O.useNavigate)(),r=(0,s.useCallback)((()=>{e.request&&"object"==typeof e.request&&a(`/workspace/${t}/request/create?example=${e.id}&request=${e.request.id}`,{},{customNavEvent:O.OPEN_EXTENSION_URL})}),[]);return E({ctrlKey:!0,keys:"Enter",callback:r}),(0,q.jsx)(ne,{type:"primary",text:(0,q.jsxs)(ie,{id:"try-request-button-title","aria-label":"Try request",children:["Try ",(0,q.jsx)(oe.Z,{})]}),onClick:r})}));le.displayName="observer(TryRequestButton)";const de=le;var ce=a(98265),ue=a(60607);const he=({children:e})=>{const t=(0,V.useActiveWorkspaceId)(),{exampleId:a}=(0,ue.useParams)(),s=new g.VariablesContextStore({collectionFetchOptions:(0,S.responseFindOneSelectCollectionQuery)({responseId:a})},{workspaceId:t});return(0,q.jsx)(g.VariablesContextProvider,{store:s,children:e})};var pe=a(15761),be=a(27366),me=a(71132),ge=a(27162),ye=a(5246);const ve=u().div.withConfig({displayName:"editor-tab-label__Dot",componentId:"sc-lc35yr-0"})(["display:inline-flex;width:calc(0.5 * var(--spacing-m));height:calc(0.5 * var(--spacing-m));border-radius:calc(0.5 * var(--spacing-m));background-color:var(--base-color-success);margin-left:var(--spacing-xs);&.error{background-color:var(--base-color-error);}"]),xe=u().span.withConfig({displayName:"editor-tab-label__Count",componentId:"sc-lc35yr-1"})(["padding:var(--spacing-zero) var(--spacing-xs);color:var(--content-color-success);"]),fe=(0,o.observer)((e=>(0,q.jsxs)(l.Z,{direction:"row",alignItems:"center",inline:!0,children:[e.text,(e.hasValues||e.hasError)&&(0,q.jsx)(ve,{"aria-label":e.hasError?"tab with errors":"tab with active values",className:e.hasError?"error":"","data-testid":"tab-indicator-dot"}),!!e.count&&(0,q.jsxs)(xe,{children:["(",e.count,")"]})]})));fe.displayName="observer(EditorTabLabel)";const je=fe,we=()=>{const e=(0,y.P)();return{queryParams:e.urlStore.queryParameters,setQueryParams:e.setQueryParams}},Ce=()=>{const e=(0,y.P)();return{pathVariables:e.urlStore.pathVariables,setPathVariables:e.setPathVariables}},Se=(0,o.observer)((()=>{const{queryParams:e}=we(),{pathVariables:t}=Ce();return(0,q.jsx)(je,{text:"Params",hasValues:e.length>0||t.length>0})}));Se.displayName="observer(ResponseParamsTabHeaderLabel)";const Te=Se;var Pe=a(19956);const ke=u().div.withConfig({displayName:"tab-content__StyledHeading",componentId:"sc-gocz4b-0"})(["display:flex;flex-direction:column;justify-content:center;box-sizing:border-box;height:var(--size-m);font-size:var(--text-size-m);color:var(--content-color-secondary);font-weight:var(--text-weight-medium);margin:var(--spacing-xs) var(--spacing-zero);"]),Re=(0,o.observer)((()=>{const{queryParams:e,setQueryParams:t}=we(),{pathVariables:a,setPathVariables:s}=Ce();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(ke,{children:"Query Params"}),(0,q.jsx)(Pe.KeyValueEditor,{tableName:"Query Params",allowedColumns:["key","value"],showColumns:["key","value"],values:e,onChange:t,disableSorting:!1,nonEditableKeys:!1,nonEditableValues:!1,nonEditableToggles:!1,disableBulkEdit:!0,disableMultilineKey:!0,disableMultilineValue:!0,enableVariableSuggestions:!0}),a.length>0&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(ke,{children:"Path Variables"}),(0,q.jsx)(Pe.KeyValueEditor,{tableName:"Path Variables",allowedColumns:["key","value"],showColumns:["key","value"],values:a,onChange:s,disableSorting:!1,nonEditableKeys:!0,nonEditableValues:!1,nonEditableToggles:!1,disableBulkEdit:!0,disableDelete:!0,disableCreate:!0,disableToggle:!0,disableMultilineKey:!0,disableMultilineValue:!0,enableVariableSuggestions:!0})]})]})}));Re.displayName="observer(ResponseParamsEditor)";const Ee=Re,Ie=()=>{const e=(0,y.P)();return{headers:e.headers,setHeaders:e.setHeaders}},Oe=(0,o.observer)((()=>{const{headers:e}=Ie();return(0,q.jsx)(je,{text:"Headers",count:e.length})}));Oe.displayName="observer(ResponseHeadersTabHeaders)";const Le=Oe,Ne=u().div.withConfig({displayName:"tab-content__StyledHeading",componentId:"sc-18ow6q7-0"})(["display:flex;flex-direction:column;justify-content:center;box-sizing:border-box;height:var(--size-m);font-size:var(--text-size-m);color:var(--content-color-secondary);font-weight:var(--text-weight-medium);margin:var(--spacing-xs) var(--spacing-zero);"]),De=(0,o.observer)((()=>{const{headers:e,setHeaders:t}=Ie();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Ne,{children:"Headers"}),(0,q.jsx)(Pe.KeyValueEditor,{tableName:"Request Headers",allowedColumns:["key","value"],showColumns:["key","value"],values:e,onChange:t,disableSorting:!1,nonEditableKeys:!1,nonEditableValues:!1,nonEditableToggles:!1,disableBulkEdit:!0,disableMultilineKey:!0,disableMultilineValue:!0,enableVariableSuggestions:!0})]})}));De.displayName="observer(ResponseHeadersEditor)";const _e=De;var qe=a(31987),Ze=a(38163);function Ve(){const e=(0,y.P)();return[e.body.rawDataStore.language,e.setLanguage]}function Fe(e){const t=(0,y.P)(),a=(0,s.useRef)(t.body.rawDataStore.beautify),r=t.body.rawDataStore.beautify,o=(0,s.useRef)((()=>t.body.rawDataStore.setBeautify([])));return(0,s.useEffect)((()=>{a.current!==r&&e&&(a.current=r,e())}),[r,e]),o.current}const Be=u().div.withConfig({displayName:"raw-body-action__StyledContainer",componentId:"sc-nz4t4b-0"})(["flex:1;display:flex;justify-content:space-between;"]),Ue=u()(Q.Z).withConfig({displayName:"raw-body-action__StyledSelectDropdown",componentId:"sc-nz4t4b-1"})([".aether-dropdown__control{&--is-focused{box-shadow:none;border-color:transparent;}&:hover,&:focus{border-color:transparent;}.aether-dropdown__single-value{color:var(--content-color-link);}.aether-dropdown__indicators{svg path{fill:var(--content-color-link);}}}"]);function Me({showBeautifyBtn:e,defaultValue:t,options:a,onChange:r}){const[o,n]=(0,s.useState)(t),i=Fe();return(0,s.useEffect)((()=>{n(t)}),[t]),(0,q.jsxs)(Be,{"data-testid":"raw-body-action-container",children:[(0,q.jsx)(Ue,{value:o,onChange:e=>{n(e),null==r||r(e.value)},options:a,isClearable:!1,isSearchable:!1,triggerType:"tertiary",triggerWidth:"auto",viaPortal:!0}),(0,q.jsx)("div",{children:e?(0,q.jsx)(b.Z,{onClick:i,text:"Beautify"}):null})]})}const ze=[["none","none"],["params","form-data"],["urlencoded","x-www-form-urlencoded"],["raw","raw"],["binary","binary"],["graphql","GraphQL"]],He=[{value:"text",label:"Text"},{value:"javascript",label:"JavaScript"},{value:"json",label:"JSON"},{value:"html",label:"HTML"},{value:"xml",label:"XML"}],Ae=[...He],We=e=>e!==He[0].value,Ke=(0,o.observer)((function(){const[e,t]=Ve();return(0,q.jsx)(Me,{defaultValue:(a=e,null!=(s=He.find((e=>e.value===a)))?s:He[0]),showBeautifyBtn:We(e),options:Ae,onChange:t});var a,s})),$e=e=>e.charAt(0).toUpperCase()+e.slice(1),Qe=e=>"string"==typeof e?e:"object"==typeof e?JSON.stringify(e):String(e),Je=()=>{const{data:e}=(0,g.useActiveAndDynamicVariables)();return(0,s.useCallback)((e=>(t,a)=>{let s=t.getCurrentWord();const r=t.getCurrentLine();return s||(s=t.getWordBeforePosition(a)),"{{"!==r.slice(0,Math.max(0,s.startColumn-1)).slice(-2)?[]:(o=(null!=e?e:[]).filter((e=>Qe(e.key).toLowerCase().includes(s.word.toLowerCase()))),n={startLineNumber:a.lineNumber,endLineNumber:a.lineNumber,startColumn:s.startColumn,endColumn:s.endColumn},o.map((e=>{let t={environment:"a",collection:"b",global:"c"}[e.scope]||"y";return"dynamic"===e.type?(t="z",{label:e.key,detail:`Details: ${Qe(e.description)}`,documentation:`Scope: ${$e(e.scope)}\n\n`,insertText:e.key,range:n,sortText:`${t}-${e.key}`}):{label:e.key,detail:`Current: ${e.sessionValue}`,documentation:`Initial: ${Qe(e.value)} \nScope: ${$e(e.scope)}\n\n`,insertText:e.key,range:n,sortText:`${t}-${e.key}`}})));var o,n})(e),[e])};var Ye=a(1590);const Ge=(0,s.lazy)((0,Ye.loadRemoteModule)("code-editor/CodeEditor")),Xe=u()(l.Z).withConfig({displayName:"raw-body-editor__RawBodyEditorWrapper",componentId:"sc-554t54-0"})(["height:100%;.text-editor{border:var(--border-width-default) solid var(--border-color-default);border-radius:var(--border-radius-s);height:calc(100% - var(--spacing-s)) !important;}"]),et=(0,o.observer)((function(){const[e]=Ve(),[t,a]=function(){const e=(0,y.P)();return[e.body.rawDataStore.content,e.setContent]}(),r=(0,s.useRef)(null);Fe((()=>{var e;null==(e=r.current)||e.beautifyContent()}));const o=Je();return(0,q.jsx)(Xe,{height:"100%",children:(0,q.jsx)(s.Suspense,{fallback:(0,q.jsx)(i.Z,{}),children:(0,q.jsx)(Ge,{ref:e=>{e?(r.current=e,r.current.focus()):r.current=null},showNonPrintableCharacters:!0,fontSize:12,language:e,codeCompletionProviders:[{provider:o}],wordWrap:!0,value:t,onChange:a,autoFormat:!0})})})}));function tt(){const e=(0,y.P)();return[e.body.activeBodyType,e.setActiveBodyType]}const at=u().nav.withConfig({displayName:"request-body-header__StyledContainer",componentId:"sc-17gm8m7-0"})(["padding:var(--spacing-s) 0;max-width:100%;overflow:auto;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),st=u().div.withConfig({displayName:"request-body-header__StyledHeightPlaceholder",componentId:"sc-17gm8m7-1"})(["min-height:var(--spacing-xxl);"]),rt=(0,o.observer)((()=>{const[e]=tt();return"raw"===e?(0,q.jsx)(Ke,{}):(0,q.jsx)(st,{})}));rt.displayName="observer(RequestBodyActions)";const ot=(0,o.observer)((()=>{const[e,t]=tt();return(0,q.jsx)(at,{children:(0,q.jsxs)(l.Z,{gap:"spacing-s",children:[(0,q.jsx)(qe.Z,{name:"workbench-request-body-group",value:e,onChange:t,children:ze.map((([e,t])=>(0,q.jsx)(Ze.Z,{value:e,id:e,label:t})))}),(0,q.jsx)(rt,{})]})})}));ot.displayName="observer(RequestBodyHeader)";const nt=ot;function it(){return(0,q.jsx)(l.Z,{height:"100%",justifyContent:"center",alignItems:"center",children:(0,q.jsx)(J.ZP,{type:"body-medium",color:"content-color-tertiary",children:"This request does not have a body"})})}var lt=a(49437),dt=a(80047);const ct=u()(l.Z).withConfig({displayName:"coming-soon__ComingSoonWrapper",componentId:"sc-dozno1-0"})(["overflow:hidden;"]);function ut({description:e}){return(0,q.jsx)(ct,{direction:"column",height:"100%",justifyContent:"center",alignItems:"center",children:(0,q.jsx)(lt.Z,{title:"Coming Soon",description:e,children:(0,q.jsx)(dt.Z,{name:"illustration-no-custom-domain"})})})}const ht=(0,o.observer)((function(){const[e,t]=function(){const e=(0,y.P)();return[e.body.formDataStore.items,e.setFormDataItems]}(),[a]=[(0,y.P)().processFormDataFiles];return(0,q.jsx)(l.Z,{height:"100%",direction:"column",children:(0,q.jsx)(Pe.KeyValueEditor,{enableFiles:!0,onFilesSelect:a,tableName:"Response Body Form Data",allowedColumns:["key","value"],showColumns:["key","value"],values:e,onChange:t,disableSorting:!1,nonEditableKeys:!1,nonEditableValues:!1,nonEditableToggles:!1,disableBulkEdit:!0,enableVariableSuggestions:!0})})})),pt=(0,o.observer)((()=>{const[e,t]=(()=>{const e=(0,y.P)();return[e.body.urlEncodedDataStore.items,e.setURLEncodedItems]})();return(0,q.jsx)(Pe.KeyValueEditor,{tableName:"Response Body URL Encoded",allowedColumns:["key","value"],showColumns:["key","value"],values:e,onChange:e=>t(e),disableSorting:!1,nonEditableKeys:!1,nonEditableValues:!1,nonEditableToggles:!1,disableBulkEdit:!0,enableVariableSuggestions:!0})})),bt=u()(l.Z).withConfig({displayName:"binary-editor__StyledContainer",componentId:"sc-1tery2o-0"})(["padding:var(--spacing-s) 0;"]),mt=(0,o.observer)((function(){const[e,t,a]=function(){const e=(0,y.P)();return[e.body.binaryStore.files,e.processBinaryFiles,e.resetBinaryFiles]}(),[r]=[(0,y.P)().body.binaryStore.error],[o,n]=(0,s.useState)(!1),i=null==e?void 0:e.map((e=>e.path));return(0,q.jsx)(bt,{height:"100%",width:"100%",children:(0,q.jsx)(Pe.FileUploader,{label:"Select File",id:"response-body-binary",multiple:!1,value:i,loading:o,error:r,onChange:async e=>{n(!0),await t(e),setTimeout((()=>n(!1)))},onReset:a})})}));function gt(e){if(!e.bodyType)return null;switch(e.bodyType){case"raw":return(0,q.jsx)(et,{});case"urlencoded":return(0,q.jsx)(pt,{});case"params":return(0,q.jsx)(ht,{});case"none":return(0,q.jsx)(it,{});case"binary":return(0,q.jsx)(mt,{});default:{var t;const[,a]=null!=(t=ze.find((([t])=>t===e.bodyType)))?t:ze[0];return(0,q.jsx)(ut,{description:`Support for ${a} in request body is coming soon.`})}}}const yt=u().div.withConfig({displayName:"request-body-panel__FullHeightContainer",componentId:"sc-gb1o66-0"})(["height:calc(100% - 3rem);"]),vt=(0,o.observer)((function(){const[e]=tt();return(0,q.jsxs)(l.Z,{direction:"column",height:"100%",children:[(0,q.jsx)(nt,{}),(0,q.jsx)(yt,{role:"tabpanel","aria-labelledby":e,children:(0,q.jsx)(gt,{bodyType:e})})]})})),xt=(0,o.observer)((()=>{const e=(0,y.P)().body.hasValue;return(0,q.jsx)(je,{text:"Body",hasValues:e})}));xt.displayName="observer(ResponseBodyTabHeaderLabel)";const ft=xt,jt=()=>{const e=(0,y.P)();return[e.activeResponseEditorTabIndex,e.setActiveResponseEditorTabIndex]},wt=u()(d.PaneContent).withConfig({displayName:"response-editor__StyledPaneContent",componentId:"sc-tjnbuw-0"})(["box-sizing:border-box;width:100%;overflow:auto;"]),Ct=u()(pe.Z).withConfig({displayName:"response-editor__StyledTabHeaders",componentId:"sc-tjnbuw-1"})(["box-sizing:border-box;padding:var(--spacing-zero) var(--spacing-s);width:100%;"]),St=u()(pe.Z).withConfig({displayName:"response-editor__StyledTabs",componentId:"sc-tjnbuw-2"})(["box-sizing:border-box;padding:var(--spacing-zero) var(--spacing-s);&,> div,> div > div{height:100%;}"]),Tt=()=>(0,q.jsx)(d.PaneHeader,{defaultLayout:"horizontal",horizontalComponent:null,verticalComponent:(0,q.jsx)(d.PaneLabel,{layout:"vertical",label:"Response Editor",arrowDirection:"right"})}),Pt=u()(l.Z).withConfig({displayName:"response-editor__TabHeadersWrapper",componentId:"sc-tjnbuw-3"})(["padding-inline-end:var(--spacing-l);"]),kt=()=>(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Et,{}),(0,q.jsx)(wt,{children:(0,q.jsx)(It,{})})]}),Rt=u()(b.Z).withConfig({displayName:"response-editor__StyledCodegenBtn",componentId:"sc-tjnbuw-4"})(["float:right;margin-left:auto;"]),Et=(0,o.observer)((()=>{const[e,t]=(0,O.useSearchParams)(),[a,s]=jt();return(0,q.jsxs)(Pt,{children:[(0,q.jsx)(Ct,{activeTabIndex:a,onChange:s,type:"primary",incrementallyCreateTabs:!0,destroyInactiveTabs:!0,"data-testid":"response-editor-tab-panels",children:(0,q.jsxs)(be.Z,{children:[(0,q.jsx)(me.Z,{label:(0,q.jsx)(Te,{})}),(0,q.jsx)(me.Z,{label:(0,q.jsx)(Le,{})}),(0,q.jsx)(me.Z,{label:(0,q.jsx)(ft,{})})]})}),(0,q.jsx)(Rt,{type:"plain",text:"Code",onClick:()=>{e.set("ctx","code"),t(e)}})]})})),It=(0,o.observer)((()=>{const[e]=jt();return(0,q.jsx)(St,{activeTabIndex:e,incrementallyCreateTabs:!0,destroyInactiveTabs:!0,children:(0,q.jsxs)(ge.Z,{children:[(0,q.jsx)(ye.Z,{children:(0,q.jsx)(Ee,{})}),(0,q.jsx)(ye.Z,{children:(0,q.jsx)(_e,{})}),(0,q.jsx)(ye.Z,{children:(0,q.jsx)(vt,{})})]})})})),Ot=()=>{const e=(0,y.P)();return{responseHeaders:e.responseHeaders,setResponseHeaders:e.setResponseHeaders}},Lt=(0,o.observer)((()=>{const{responseHeaders:e}=Ot();return(0,q.jsx)(je,{text:"Headers",count:e.length})}));Lt.displayName="observer(ExampleResponseHeadersTabHeader)";const Nt=Lt,Dt=u()(pe.Z).withConfig({displayName:"tab-header-items__StyledTabHeaders",componentId:"sc-zsqkwj-0"})(["box-sizing:border-box;padding:",";width:100%;"],(e=>e.theme["spacing-zero"])),_t=(0,o.observer)((e=>(0,q.jsx)(Dt,{activeTabIndex:e.activeTabIndex,onChange:t=>{e.switchTab(t)},type:"primary",incrementallyCreateTabs:!0,destroyInactiveTabs:!0,role:"tablist","data-testid":"response-viewer-tablist",children:(0,q.jsxs)(be.Z,{children:[(0,q.jsx)(me.Z,{label:"Body"}),(0,q.jsx)(me.Z,{label:(0,q.jsx)(Nt,{})})]})})));var qt=a(20856),Zt=a(68206),Vt=a(84452);const Ft=u()(l.Z).withConfig({displayName:"response-status-code__ResponseStatusCodeWrapper",componentId:"sc-d96q55-0"})(["margin-right:var(--spacing-l);"]),Bt=u()(l.Z).withConfig({displayName:"response-status-code__StyledFlexWrapper",componentId:"sc-d96q55-1"})(["overflow-y:auto;max-height:200px;width:200px;div{padding:var(--spacing-s);cursor:pointer;&:hover{background-color:var(--highlight-background-color-secondary);}}"]),Ut=()=>{const e=[];for(const[t,a]of Object.entries(Vt.HTTP_STATUS_CODES))"0"!==t&&e.push({code:t,value:a});return e},Mt=e=>{return null!=e&&e.code&&null!=e&&e.name?`${e.code.toString()} ${e.name.toString()}`:null!=e&&e.code||null!=e&&e.name?(null==e||null==(t=e.code)?void 0:t.toString())||(null==e?void 0:e.name):"";var t},zt=(0,o.observer)((()=>{const{responseCode:e,setResponseCode:t}=(()=>{const e=(0,y.P)();return{responseCode:e.responseCode,setResponseCode:e.setResponseCode}})(),[a,r]=(0,s.useState)(!1),[o,n]=(0,s.useState)(Ut()),[i,l]=(0,s.useState)(Mt(e));return(0,s.useEffect)((()=>{l(Mt(e))}),[e]),(0,q.jsxs)(Ft,{alignItems:"center",gap:"spacing-s",children:[(0,q.jsx)(J.ZP,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-s",lineHeight:"line-height-s",fontWeight:"text-weight-medium"},children:"Status code"}),(0,q.jsx)(qt.ZP,{padding:"spacing-xs",isOpen:a,onClickOutside:()=>{r(!1)},placement:"bottom-end",trigger:(0,q.jsx)("div",{onClick:()=>{r((e=>!e))},children:(0,q.jsx)(Zt.Z,{placeholder:"Enter Response Code",value:i,onChange:e=>{const s=e.target.value,o=Ut().filter((({code:e,value:t})=>!("0"===e||!`${e.toString()} ${t.name}`.toLowerCase().includes((null==s?void 0:s.toLowerCase())||""))));/[A-Za-z]/g.test(s)?t({code:null,name:s}):t({code:Number.parseInt(s),name:null}),n(o),0===o.length?r(!1):a||r(!0)},size:"small"})}),children:(0,q.jsx)(Bt,{direction:"column",children:o.map((({code:e,value:a})=>{const s=`${e} ${a.name}`;return(0,q.jsx)("div",{onClick:()=>((e,a)=>{l(`${e.toString()} ${a.name.toString()}`),t({code:Number(e),name:a.name,detail:a.detail}),r(!1)})(e,a),children:(0,q.jsx)(J.ZP,{children:s})})}))})})]})})),Ht=(0,o.observer)((e=>(0,q.jsx)(d.PaneHeader,Object.assign({},e,{"data-testid":"response-pane-header",defaultLayout:"horizontal",horizontalComponent:(0,q.jsx)(d.PaneLabel,{layout:"horizontal",label:(0,q.jsxs)(l.Z,{alignItems:"center",justifyContext:"space-between",children:[(0,q.jsx)(_t,{activeTabIndex:e.activeTabIndex,switchTab:e.switchTab}),(0,q.jsx)(zt,{})]})})}))));Ht.displayName="observer(ResponseViewPaneHeader)";const At=Ht,Wt=u().div.withConfig({displayName:"tab-content__ResponseHeadersWrapper",componentId:"sc-1ai1w2y-0"})(["padding:var(--spacing-zero) var(--spacing-s);box-sizing:border-box;"]),Kt=(0,o.observer)((()=>{const{responseHeaders:e,setResponseHeaders:t}=Ot();return(0,q.jsx)(Wt,{children:(0,q.jsx)(Pe.KeyValueEditor,{tableName:"Request Headers",allowedColumns:["key","value"],showColumns:["key","value"],values:e,onChange:t,disableSorting:!1,nonEditableKeys:!1,nonEditableValues:!1,nonEditableToggles:!1,disableBulkEdit:!0,disableMultilineKey:!0,disableMultilineValue:!0,enableVariableSuggestions:!0})})})),$t={JSON:"JSON",XML:"XML",HTML:"HTML",TEXT:"Text"},Qt={PRETTY:0,RAW:1,PREVIEW:2};var Jt=a(83125);const Yt=u()(pe.Z).withConfig({displayName:"tab-header__TabHeaderPills",componentId:"sc-1i4z5rw-0"})(["box-sizing:border-box;width:auto;padding:",";"],(e=>e.theme["spacing-zero"]));var Gt=a(81397);const Xt=u().button.withConfig({displayName:"icon-button__IconContainer",componentId:"sc-114gjwi-0"})(["position:relative;box-sizing:border-box;display:inline-flex;justify-content:center;align-items:center;cursor:pointer;user-select:none;outline:none;border:none;font-size:12px;line-height:1;height:32px;background-color:transparent;padding:var(--spacing-xs) var(--spacing-s);border-radius:var(--border-radius-default);&:hover{background-color:var(--highlight-background-color-primary);}"]),ea=r().forwardRef((function(e,t){return(0,q.jsx)(Xt,Object.assign({},e,{ref:t}))}));var ta=a(45261),aa=a(32054);const sa={editor:null,setEditor:()=>{}},ra=r().createContext(sa);function oa(e){const[t,a]=(0,s.useState)(null),r=(0,s.useMemo)((()=>({editor:t,setEditor:a})),[t]);return(0,q.jsx)(ra.Provider,{value:r,children:e.children})}const na=()=>{const{editor:e,setEditor:t}=(0,s.useContext)(ra);if(!t)throw new Error("EditorContextProvider must be used to access useEditorContext");return[e,t]};function ia(e){const{enabled:t}=e,[a]=na(),{addToast:s}=(0,n.ZP)();return t?(0,q.jsxs)(l.Z,{gap:"spacing-s",children:[(0,q.jsx)(Gt.Z,{content:"Copy to clipboard",placement:"top",children:(0,q.jsx)(ea,{"aria-label":"Copy to Clipboard",onClick:()=>(null==a||a.copyToClipboard(),void s({title:"Copied to clipboard",status:"success",description:null})),children:(0,q.jsx)(ta.Z,{})})}),(0,q.jsx)(Gt.Z,{content:"Find in response",placement:"top",children:(0,q.jsx)(ea,{"aria-label":"Find in Response",onClick:()=>null==a?void 0:a.openFindWidget(),children:(0,q.jsx)(aa.Z,{})})})]}):null}var la=a(64691),da=a(48263),ca=a(59824),ua=a(17282);function ha({language:e,onLangaugeSelect:t,onLanguageReset:a}){return(0,q.jsxs)(la.Z,{"data-testid":"response-language-selector-menu",children:[(0,q.jsx)(da.Z,{text:(0,q.jsx)("span",{"aria-label":"Switch language",children:e.toUpperCase()})}),(0,q.jsxs)(ca.Z,{children:[Object.keys($t).map((e=>{const a=$t[e];return(0,q.jsx)(ua.Z,{"data-testid":`response-language-${a}`,onClick:()=>t(a),children:a},a)})),(0,q.jsx)(ua.Z,{"data-testid":"response-language-auto",onClick:a,children:"Auto"},"Auto")]})]})}const pa=["wordWrap","setWordWrap","activeTab","onTabChange"],ba=u()(b.Z).withConfig({displayName:"response-view-header__StyledButton",componentId:"sc-v4sbqj-0"})(["> i > svg > path{fill:",";}"],(e=>e.wordWrap&&"var(--content-color-brand)")),ma=u()(l.Z).withConfig({displayName:"response-view-header__StyledFlex",componentId:"sc-v4sbqj-1"})(["padding:var(--spacing-s);"]);function ga(e){const{wordWrap:t,setWordWrap:a,activeTab:r,onTabChange:o}=e,n=(0,w.Z)(e,pa),[i,d]=(0,s.useState)(null!=r?r:Qt.PRETTY),c=i===Qt.PRETTY;i!==r&&r&&d(r);const u=[Qt.PRETTY,Qt.RAW].includes(i);return(0,q.jsxs)(ma,{direction:"row",gap:"spacing-s",children:[(0,q.jsx)(Yt,{activeTabIndex:i,onChange:e=>{null==o||o(e),d(e)},type:"secondary",incrementallyCreateTabs:!0,destroyInactiveTabs:!0,children:(0,q.jsxs)(be.Z,{children:[(0,q.jsx)(me.Z,{label:"Pretty"}),(0,q.jsx)(me.Z,{label:"Raw"}),(0,q.jsx)(me.Z,{label:"Preview"})]})}),(0,q.jsxs)(l.Z,{justifyContent:"space-between",grow:"1",children:[(0,q.jsx)(l.Z,{gap:"spacing-s",children:c&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(ha,Object.assign({},n)),(0,q.jsx)(ba,{type:"secondary",icon:(0,q.jsx)(Jt.Z,{}),wordWrap:t,onClick:()=>a(!t)})]})}),(0,q.jsx)(ia,{enabled:u})]})]})}var ya=a(44519),va=a(21180);const xa=(0,s.lazy)((0,Ye.loadRemoteModule)("code-editor/CodeEditor")),fa=(0,s.lazy)((()=>Promise.all([a.e(398),a.e(8243)]).then(a.bind(a,78243)).then((e=>({default:e.ResponsePreviewPanel}))))),ja=u()(d.PaneContent).withConfig({displayName:"tab-content__StyledPaneContent",componentId:"sc-ik6osf-0"})(["height:100%;"]),wa=u().div.withConfig({displayName:"tab-content__ResponseBodyPanelContent",componentId:"sc-ik6osf-1"})(["height:100%;padding:var(--spacing-s);"]),Ca=(e,t,a)=>{const s=[...e];return s[t]=a,s},Sa=(0,o.observer)((()=>{const[e,t]=r().useState(!0),[,a]=na(),[o,n]=(0,ya._)(),[l,d,c]=(0,ya.L)(),u=xa,[h,p]=(0,s.useState)(Qt.PRETTY),[b,m]=(0,s.useState)([l,$t.TEXT]);(0,s.useEffect)((()=>{m((e=>Ca(e,Qt.PRETTY,l)))}),[l]);const g=Je(),y=(0,s.useCallback)((e=>m((t=>{if(h===Qt.PRETTY)d(e);else if(h===Qt.RAW)return Ca(t,h,e);return t}))),[h,d]),v=b[h];let x;return x=h===Qt.PREVIEW?(0,q.jsx)(s.Suspense,{fallback:(0,q.jsx)(i.Z,{}),children:(0,q.jsx)(fa,{})}):(0,q.jsx)(s.Suspense,{fallback:(0,q.jsx)(i.Z,{}),children:(0,q.jsx)(u,{language:null==v?void 0:v.toLowerCase(),codeCompletionProviders:[{provider:g}],wordWrap:e,enableLinks:!0,value:o,ref:a,autoFormat:!0,onChange:n})}),(0,q.jsxs)(ja,{children:[(0,q.jsx)(ga,{wordWrap:e,setWordWrap:t,activeTab:h,onTabChange:p,language:v,onLangaugeSelect:y,onLanguageReset:()=>c()}),(0,q.jsx)(wa,{children:x})]})})),Ta=(0,o.observer)((function(){return(0,q.jsx)(va.CustomErrorBoundary,{appId:"http-response-workbench",errorElementId:"editor-error-boundary",children:(0,q.jsx)(oa,{children:(0,q.jsx)(Sa,{})})})})),Pa=u()(pe.Z).withConfig({displayName:"response-view-pane-content__StyledTabs",componentId:"sc-1jgrdql-0"})(["padding:0;overflow-y:auto;&{height:calc(100% - var(--spacing-xxl));}& > div,& > div > div{height:100%;}"]),ka=(0,o.observer)((e=>(0,q.jsx)(Pa,{activeTabIndex:e.activeTabIndex,incrementallyCreateTabs:!0,destroyInactiveTabs:!0,padding:0,"data-testid":"response-viewer-tabs",children:(0,q.jsxs)(ge.Z,{children:[(0,q.jsx)(ye.Z,{children:(0,q.jsx)(Ta,{})}),(0,q.jsx)(ye.Z,{children:(0,q.jsx)(Kt,{})})]})})));ka.displayName="observer(ResponseViewerTabPanels)";const Ra=ka;function Ea(){const[e,t]=(0,s.useState)(0);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(At,{switchTab:t,activeTabIndex:e}),(0,q.jsx)(Ra,{activeTabIndex:e})]})}const Ia=u()(l.Z).withConfig({displayName:"workbench-wrapper__ResponseWorkbenchContainer",componentId:"sc-iwi8w2-0"})(["height:var(--wp-workbench-height);width:100vw;min-width:650px;max-width:100%;background-color:var(--background-color-primary);color:var(--content-color-primary);overflow:hidden auto;"]),Oa=(0,o.observer)((({children:e})=>{var t;const{isLoading:a,error:s}=(()=>{const e=(0,y.P)();return{isLoading:e.isLoading,error:e.error}})(),r=(0,y.P)().parentCollection,o=(0,y.P)(),{exampleId:n}=(0,ue.useParams)();if((0,S.useCollectionSubscription)({collectionId:(null==r?void 0:r.id)||"",workspaceId:(0,V.useActiveWorkspaceId)(),subscribingEntity:{id:null!=(t=null==o?void 0:o.id)?t:n,type:"response"}}),!a&&s)throw s;return(0,q.jsx)(Ia,{direction:"column",children:a?(0,q.jsx)(i.Z,{size:"large",description:"Loading Response"}):e})}));var La=a(20684),Na=a(78476);const Da=()=>{var e;const t=(0,y.P)();let a={};switch(t.body.activeBodyType){case"none":break;case"raw":a={dataMode:t.body.activeBodyType,data:t.body.rawDataStore.content,dataOptions:{raw:{language:t.body.rawDataStore.language}}};break;case"binary":var s;a={dataMode:t.body.activeBodyType,data:null==(s=t.body.binaryStore.files)?void 0:s[0].path};break;case"params":a={dataMode:t.body.activeBodyType,data:(0,Na.toJS)(t.body.formDataStore.items)};break;case"urlencoded":a={dataMode:t.body.activeBodyType,data:(0,Na.toJS)(t.body.urlEncodedDataStore.items)}}return Object.assign({id:t.id,url:t.urlStore.url,headerData:[...t.headers],method:t.method,pathVariableData:t.urlStore.pathVariables,queryParams:t.urlStore.queryParameters,parentCollectionId:null==(e=t.parentCollection)?void 0:e.id},a)},_a=(0,s.lazy)((0,Ye.loadRemoteModule)("codegen/Codegen")),qa=e=>(0,q.jsx)(s.Suspense,{fallback:(0,q.jsx)(i.Z,{}),children:(0,q.jsx)(_a,Object.assign({},e))}),Za={mode:"hidden",defaultElementId:"code",elements:[{id:"code",title:"Code snippet",icon:(0,q.jsx)(La.Z,{color:"content-color-primary"}),View:(0,o.observer)((()=>{const e=Da();return(0,q.jsx)(qa,{requestData:e,type:"example"})}))}]},Va=(La.Z,(0,o.observer)((()=>{const e=Da();return(0,q.jsx)(qa,{requestData:e,type:"example"})})),La.Z,(0,o.observer)((()=>{const e=Da();return(0,q.jsx)(qa,{requestData:e,type:"example"})})),(0,s.lazy)((0,Ye.loadRemoteModule)("context-bar/ContextBar"))),Fa=(0,o.observer)((e=>{const t=Za;return(0,q.jsx)(Va,{configuration:t,children:e.children})})),Ba=(0,o.observer)((()=>(0,q.jsxs)(d.PaneGroup,{defaultLayout:"vertical",scrollToResize:!0,children:[(0,q.jsxs)(d.Pane,{height:{default:200,collapsed:33,uncollapsed:400,min:100,resizableByDefault:!0},width:{default:400,collapsed:33,uncollapsed:400,min:300,resizableByDefault:!0},resizableByDefault:!0,children:[(0,q.jsx)(Tt,{}),(0,q.jsx)(kt,{})]}),(0,q.jsx)(d.Pane,{height:{default:200,collapsed:33,uncollapsed:200,min:100,resizableByDefault:!0},width:{default:400,collapsed:33,uncollapsed:400,min:300,resizableByDefault:!0},resizableByDefault:!0,children:(0,q.jsx)(Ea,{})})]}))),Ua=()=>{const e=(0,q.jsx)(ce.a,{children:(0,q.jsx)(he,{children:(0,q.jsx)(n.VW,{children:(0,q.jsx)(Oa,{children:(0,q.jsx)(s.Suspense,{fallback:(0,q.jsx)(i.Z,{}),children:(0,q.jsxs)(Fa,{children:[(0,q.jsx)(H,{}),(0,q.jsxs)(l.Z,{direction:"row",gap:"spacing-s",padding:"spacing-s",children:[(0,q.jsx)(re,{}),(0,q.jsx)(de,{})]}),(0,q.jsx)(Ba,{})]})})})})})});return S.ENABLE_COLLECTIONS?e:(0,q.jsx)(ut,{description:"Examples coming soon"})}},44519:(e,t,a)=>{a.d(t,{L:()=>o,_:()=>r});var s=a(67490);function r(){const e=(0,s.P)();return[e.exampleResponseContent,e.setExampleResponseContent]}function o(){const e=(0,s.P)();return[e.exampleResponseLanguage,e.setExampleResponseLanguage,e.resetExampleResponseLanguage]}},67490:(e,t,a)=>{a.d(t,{P:()=>n});var s=a(40540),r=a.n(s),o=a(98265);const n=()=>{const e=r().useContext(o.f);if(!e)throw new Error("useResponseEditorStore should be used within a ResponseEditorContext.Provider");return e}},98265:(e,t,a)=>{a.d(t,{f:()=>v,a:()=>x});var s=a(40540),r=a(60607),o=a(78476),n=a(53186),i=a(97201),l=a(88131);class d{constructor(){this.queryParameters=[],this.pathVariables=[],this.url="",this.updateQueryParams=e=>{this.queryParameters=e,this.updateUrlFromQueryParams()},this.updatePathVariables=e=>{this.pathVariables=e},this.setUrl=e=>{this.url=e,this.updateQueryParamsFromUrl(),this.updatePathVariablesFromUrl()},this.getRequestObjectPayload=e=>{let t="";try{t=JSON.stringify(Object.assign({},e,{url:this.url,queryParams:this.queryParameters,pathVariableData:this.pathVariables,pathVariables:this.pathVariables.reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}catch(e){}return t},(0,o.makeObservable)(this,{pathVariables:o.observable,queryParameters:o.observable,url:o.observable,setUrl:o.action,updateQueryParams:o.action,updatePathVariables:o.action,hydrateStoreWithData:o.action,updateUrlFromQueryParams:o.action,updateQueryParamsFromUrl:o.action,updatePathVariablesFromUrl:o.action})}hydrateStoreWithData(e){var t,a;this.url=e.url,this.queryParameters=(null==(t=e.queryParams)?void 0:t.map((e=>Object.assign({},e,{type:"text"}))))||(0,l.getUpdatedQueryParamsFromURL)(this.url,[]),this.pathVariables=(null==(a=e.pathVariableData)?void 0:a.map((e=>Object.assign({},e,{type:"text"}))))||Object.keys(e.pathVariables||{}).reduce(((t,a)=>{var s;return t.push({key:a,value:null==(s=e.pathVariables)?void 0:s[a],type:"text"}),t}),[])}updateUrlFromQueryParams(){const e=(0,l.getURLFromQueryParams)(this.queryParameters);null!=this.url||(this.url="");const t=e?`$1?${e}`:"$1";this.url=this.url.replace(/([^?]*)?(.*)/,t)}updateQueryParamsFromUrl(){this.queryParameters=(0,l.getUpdatedQueryParamsFromURL)(this.url,this.queryParameters)}updatePathVariablesFromUrl(){this.pathVariables=(0,l.getPathVariablesValues)(this.url,this.pathVariables)}}var c=a(84452);async function u(e){return(0,c.processFiles)(e)}class h{constructor(e){this.items=void 0,this.setItems=e=>{this.items=e},this.setItem=(e,t)=>{const a=this.items.findIndex(((t,a)=>e===t.id||e===a));-1!==a&&(this.items[a]=Object.assign({},this.items[a],t))},this.processFiles=(e,t)=>(this.setItem(e,{fileUploadError:""}),u(t).then((t=>t&&this.setItem(e,{value:t.map((e=>e.path))}))).catch((t=>{const a="Connection Error"===t.message?"Check your toolbar to make sure the Postman Desktop Agent is running.":"Make sure that Postman can read files inside the working directory.";this.setItem(e,{fileUploadError:a})}))),(0,o.makeObservable)(this,{items:!0,setItems:o.action,setItem:o.action}),this.items=e}}class p{constructor(){this.language="text",this.content="",this.beautify=[],this.setLanguage=e=>{this.language=e},this.setContent=e=>{this.content=e},this.setBeautify=e=>{this.beautify=e},(0,o.makeObservable)(this,{language:o.observable,content:o.observable,beautify:o.observable,setLanguage:o.action,setContent:o.action})}}class b{constructor(){this.files=null,this.error=void 0,this.setFiles=e=>{this.files=e},this.processFiles=e=>(this.error="",u(e).then((e=>this.setFiles(e))).catch((e=>{const t="Connection Error"===e.message?"Check your toolbar to make sure the Postman Desktop Agent is running.":"Make sure that Postman can read files inside the working directory.";this.error=t}))),this.resetFiles=()=>{this.files=null},(0,o.makeObservable)(this,{files:!0,processFiles:o.action,setFiles:o.action,resetFiles:o.action})}}class m{constructor(){this.activeBodyType="none",this.formDataStore=new h([]),this.urlEncodedDataStore=new h([]),this.rawDataStore=new p,this.binaryStore=new b,this.setActiveBodyType=e=>{this.activeBodyType=e},this.getRequestObjectBodyFormat=e=>{switch(e){case"raw":return{dataMode:e,dataOptions:{raw:{language:this.rawDataStore.language}},rawModeData:this.rawDataStore.content};case"params":return{dataMode:e,data:this.formDataStore.items};case"urlencoded":return{dataMode:e,data:this.urlEncodedDataStore.items};case"binary":return this.binaryStore.files&&this.binaryStore.files.length>0?{dataMode:e,rawModeData:this.binaryStore.files[0].path}:{dataMode:e,rawModeData:""};default:return{dataMode:e}}},this.getRequestObjectPayload=e=>{const t=this.getRequestObjectBodyFormat(this.activeBodyType);let a=Object.assign({},e,t);try{a=JSON.stringify(a)}catch(e){}return a},(0,o.makeObservable)(this,{activeBodyType:o.observable,hasValue:o.computed,setActiveBodyType:o.action,hydrateStoreWithData:o.action})}hydrateStoreWithData(e){var t,a,s;e.dataMode&&(this.activeBodyType=e.dataMode),"raw"===e.dataMode&&(this.rawDataStore.setContent(null!=(t=null!=(a=e.rawModeData)?a:e.data)?t:""),(null==(s=e.dataOptions)||null==(s=s.raw)?void 0:s.language)&&this.rawDataStore.setLanguage(e.dataOptions.raw.language)),"params"===e.dataMode&&e.data&&this.formDataStore.setItems(e.data),"urlencoded"===e.dataMode&&e.data&&this.urlEncodedDataStore.setItems(e.data),"binary"===e.dataMode&&e.rawModeData&&this.binaryStore.setFiles([{name:e.rawModeData,actual:null,path:e.rawModeData,type:""}])}get hasValue(){return"raw"===this.activeBodyType?!!this.rawDataStore.content:"params"===this.activeBodyType?this.formDataStore.items.length>0:"urlencoded"===this.activeBodyType?this.urlEncodedDataStore.items.length>0:"binary"===this.activeBodyType&&((null==(e=this.binaryStore.files)?void 0:e.length)||0)>0;var e}}class g{constructor({exampleId:e}){var t=this;this.id=void 0,this.isLoading=!0,this.error=null,this.unsubscribeFromResponseCache=void 0,this.name="",this.requestObject="",this.method="",this.parentCollection=void 0,this.urlStore=new d,this.headers=[],this.responseHeaders=[],this.body=new m,this.exampleResponseContent="",this.exampleResponseLanguage="Text",this.exampleResponseLanguageDefault="Text",this.trackedState={},this.isConflicted=!1,this.isSaving=!1,this.unsubscribeFromPermissionsCache=void 0,this.permissions={},this.collection={},this.folder={},this.metadata={},this.request={},this.responseCode=null,this.cachedResponseItem=void 0,this.activeResponseEditorTabIndex=0,this.setActiveResponseEditorTabIndex=e=>{this.activeResponseEditorTabIndex=e},this.startListeningToResponseCache=()=>{var e;const t=new i.CacheObserver(i.cacheClient,(0,n.responseFindOneQuery)({responseId:this.id})),a=t.getCurrentResult();this.cachedResponseItem=null==(e=a.data)?void 0:e.data,this.onResponseCacheUpdate(a),this.unsubscribeFromResponseCache=t.subscribe(this.onResponseCacheUpdate)},this.setTrackedState=(e,t)=>{e&&(this.trackedState=Object.assign({},this.trackedState,{[e]:t}))},this.getRequestObject=(e,t)=>{var a;const s=null!=(a=this.trackedState.requestObject)?a:this.requestObject;let r;try{r=JSON.parse(s),r=Object.assign({},r,{[e]:t})}catch(e){}try{r=JSON.stringify(r)}catch(e){}return r},this.setMetadata=e=>{this.metadata=e},this.setName=e=>{this.name=e},this.setMethod=e=>{(0,o.transaction)((()=>{this.method=e;const t=this.getRequestObject("method",e);this.setTrackedState("requestObject",t)}))},this.setHeaders=e=>{(0,o.transaction)((()=>{var t;this.headers=e;const a=null!=(t=this.trackedState.requestObject)?t:this.requestObject;let s;try{s=JSON.parse(a),s=Object.assign({},s,{headerData:e})}catch(e){}try{this.setTrackedState("requestObject",JSON.stringify(s))}catch(e){}}))},this.setResponseHeaders=e=>{(0,o.transaction)((()=>{this.responseHeaders=e,this.setTrackedState("headers",e)}))},this.setResponseCode=e=>{this.responseCode=e,this.setTrackedState("responseCode",e)},this.setExampleResponseContent=e=>{(0,o.transaction)((()=>{this.exampleResponseContent=e,this.setTrackedState("text",e)}))},this.setExampleResponseLanguage=e=>{(0,o.transaction)((()=>{this.exampleResponseLanguage=e,this.setTrackedState("language",e)}))},this.resetExampleResponseLanguage=()=>{(0,o.transaction)((()=>{this.exampleResponseLanguage=this.exampleResponseLanguageDefault,this.setTrackedState("language",this.exampleResponseLanguageDefault)}))},this.setIsSaving=e=>{this.isSaving=e},this.setURL=e=>{(0,o.transaction)((()=>{this.urlStore.setUrl(e),this.setURLRequestObjectTrackedState()}))},this.setQueryParams=e=>{(0,o.transaction)((()=>{this.urlStore.updateQueryParams(e),this.setURLRequestObjectTrackedState()}))},this.setPathVariables=e=>{(0,o.transaction)((()=>{this.urlStore.updatePathVariables(e),this.setURLRequestObjectTrackedState()}))},this.setActiveBodyType=e=>{(0,o.transaction)((()=>{this.body.setActiveBodyType(e),this.setBodyRequestObjectTrackedState()}))},this.setLanguage=e=>{(0,o.transaction)((()=>{this.body.rawDataStore.setLanguage(e),this.setBodyRequestObjectTrackedState()}))},this.setContent=e=>{(0,o.transaction)((()=>{this.body.rawDataStore.setContent(e),this.setBodyRequestObjectTrackedState()}))},this.setURLEncodedItems=e=>{(0,o.transaction)((()=>{this.body.urlEncodedDataStore.setItems(e),this.setBodyRequestObjectTrackedState()}))},this.setFormDataItems=e=>{(0,o.transaction)((()=>{this.body.formDataStore.setItems(e),this.setBodyRequestObjectTrackedState()}))},this.processFormDataFiles=(e,a)=>((0,o.transaction)((async function(){await t.body.formDataStore.processFiles(e,a),t.setBodyRequestObjectTrackedState()})),Promise.resolve(null)),this.processBinaryFiles=e=>{(0,o.transaction)((async function(){await t.body.binaryStore.processFiles(e),t.setBodyRequestObjectTrackedState()}))},this.resetBinaryFiles=()=>{(0,o.transaction)((async function(){await t.body.binaryStore.resetFiles(),t.setBodyRequestObjectTrackedState()}))},this.setURLRequestObjectTrackedState=()=>{var e;const t=null!=(e=this.trackedState.requestObject)?e:this.requestObject;let a;try{a=JSON.parse(t)}catch(e){}const s=this.urlStore.getRequestObjectPayload(a);this.setTrackedState("requestObject",s)},this.setBodyRequestObjectTrackedState=()=>{var e;const t=null!=(e=this.trackedState.requestObject)?e:this.requestObject;let a;try{a=JSON.parse(t)}catch(e){}const s=this.body.getRequestObjectPayload(a);this.setTrackedState("requestObject",s)},this.startListeningToCollectionsCache=e=>{if(e){var t;const a=new i.CacheObserver(i.cacheClient,(0,n.collectionPermissionsQuery)({collectionId:e})),s=a.getCurrentResult();this.onCollectionPermissionsUpdate(s),null==(t=this.unsubscribeFromPermissionsCache)||t.call(this),this.unsubscribeFromPermissionsCache=a.subscribe((e=>{this.onCollectionPermissionsUpdate(e)}))}},this.onCollectionPermissionsUpdate=e=>{const t=e.data;t&&(0,o.runInAction)((()=>{this.permissions=t}))},this.onResponseCacheUpdate=e=>{var t;const a=null==(t=e.data)?void 0:t.data;if(this.isLoading=!a&&!e.error,this.error=e.error,a)if(this.isDirty&&!this.isSaving&&this.cachedResponseItem&&function(e,t,a){for(const a of["name","requestObject","responseCode","headers","text","language"])if(e[a]!==t[a])return!0;return!1}(a,this.cachedResponseItem))(0,o.runInAction)((()=>{this.isConflicted=!0}));else if(!this.isDirty){var s,r,n;(null==(s=this.parentCollection)?void 0:s.id)!==(null==a||null==(r=a.collection)?void 0:r.id)&&(null==(n=a.collection)?void 0:n.id)&&this.startListeningToCollectionsCache(a.collection.id),(0,o.runInAction)((()=>{this.hydrateStore(a)})),this.setMetadata({id:a.id,name:a.name}),this.cachedResponseItem=a}},this.hydrateStore=e=>{var t;if(this.name=e.name,this.requestObject=null!=(t=e.requestObject)?t:"",this.parentCollection=null==e?void 0:e.collection,this.exampleResponseContent=e.text||"",this.exampleResponseLanguage=e.language||"Text",this.exampleResponseLanguageDefault=e.language||"Text",this.collection=e.collection,this.folder=e.folder,this.request=e.request,this.responseCode=e.responseCode,e.headers&&(this.responseHeaders=e.headers.map(((e,t)=>Object.assign({},e,{sortOrder:t,type:"text"})))),e.requestObject){let t=null;try{t=JSON.parse(e.requestObject)}catch(e){}t&&(this.urlStore.hydrateStoreWithData({url:t.url,queryParams:t.queryParams,pathVariables:t.pathVariables,pathVariableData:t.pathVariableData}),this.method=t.method,t.headerData&&(this.headers=t.headerData.map(((e,t)=>Object.assign({},e,{sortOrder:t})))),this.body.hydrateStoreWithData(t))}},this.id=e,(0,o.makeObservable)(this,{isLoading:!0,error:!0,name:o.observable,requestObject:o.observable,headers:o.observable,responseHeaders:o.observable,responseCode:!0,method:o.observable,exampleResponseContent:o.observable,exampleResponseLanguageDefault:o.observable,exampleResponseLanguage:!0,breadcrumbs:o.computed,metadata:o.observable.ref,setMetadata:o.action,setMethod:o.action,setURL:o.action,setQueryParams:o.action,setPathVariables:o.action,setActiveBodyType:o.action,setLanguage:o.action,setContent:o.action,setResponseCode:o.action,setURLEncodedItems:o.action,setFormDataItems:o.action,processFormDataFiles:o.action,resetBinaryFiles:o.action,setURLRequestObjectTrackedState:o.action,setBodyRequestObjectTrackedState:o.action,setName:o.action,setHeaders:o.action,setResponseHeaders:o.action,setExampleResponseContent:o.action,resetExampleResponseLanguage:o.action,onResponseCacheUpdate:o.action,isDirty:o.computed,trackedState:!0,setTrackedState:o.action,isConflicted:!0,setIsSaving:o.action,isSaving:!0,permissions:!0,activeResponseEditorTabIndex:!0,setActiveResponseEditorTabIndex:o.action}),this.startListeningToResponseCache()}get isDirty(){return Object.keys(this.trackedState).length>0}get breadcrumbs(){return((e,t,a,s,r,o)=>{var i,l,d,c;let u=[],h={};return h={id:null!=(i=null!=(l=e.id)?l:a)?i:"DEFAULT",name:null!=(d=null!=(c=e.name)?c:t)?d:"New Example",entityType:"response"},u=(0,n.getBreadcrumbItems)("",s,r,o),u.push(h),u})(this.metadata,this.name,this.id,this.collection,this.folder,this.request)}persistUpdates(){(0,o.runInAction)((()=>{this.trackedState={},this.isConflicted=!1}))}rollbackUpdates(e,t){(0,o.runInAction)((()=>{this.trackedState=e,this.isConflicted=t}))}destroy(){var e,t;null==(e=this.unsubscribeFromResponseCache)||e.call(this),null==(t=this.unsubscribeFromPermissionsCache)||t.call(this),this.trackedState={}}}var y=a(52322);const v=(0,s.createContext)({}),x=({children:e})=>{if(!(0,r.useInRouterContext)())throw new Error("ResponseEditorProvider must be used within a Router");const{exampleId:t}=(0,r.useParams)(),a=(0,s.useMemo)((()=>new g({exampleId:t})),[t]);return(0,s.useEffect)((()=>()=>a.destroy()),[]),(0,y.jsx)(v.Provider,{value:a,children:e})}}}]);
//# sourceMappingURL=8223.2ccf99988acbc0ee.js.map